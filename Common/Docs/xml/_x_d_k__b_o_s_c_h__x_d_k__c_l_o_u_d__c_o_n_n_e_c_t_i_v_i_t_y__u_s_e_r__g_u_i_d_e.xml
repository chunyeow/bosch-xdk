<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.8">
  <compounddef id="_x_d_k__b_o_s_c_h__x_d_k__c_l_o_u_d__c_o_n_n_e_c_t_i_v_i_t_y__u_s_e_r__g_u_i_d_e" kind="page">
    <compoundname>XDK_BOSCH_XDK_CLOUD_CONNECTIVITY_USER_GUIDE</compoundname>
    <title>XDK BoschXDKCloudConnectivity Application Guide</title>
    <detaileddescription>
<para>The XDK BoschXDKCloudConnectivity application for the XDK implements a simple client, which enables a LWM2M server to read and receive sensor data from the XDK.</para><para><hruler/>
 Use the XDK example application <bold>BoschXDKCloudConnectivity</bold>.</para><para>To be able to use this example application , several pre-requirements must be fulfilled which are mentioned below</para><para><itemizedlist>
<listitem><para>IP connectivity via WLAN to the LWM2M server must be ensured (i.e) XDK must connect to valid Access Point and acquired dynamic IP address.</para></listitem><listitem><para>The XDK uses its internal standard WLAN module to communicate with the LWM2M server via UDP.</para></listitem><listitem><para>Please check with other proper utilities (other client, e.g. Leshan Client on a Notebook connected via WLAN), that the communication via WLAN / UDP is working. The LWM2M XDK client doesn&apos;t offer a &quot;rich test functionality&quot; therefore something else must be used to ensure that communication.</para></listitem><listitem><para>To ensure proper secured(encrypted) data communication between XDK LwM2M client and Lwm2M server,please check for the standard UDP port 5684(DTLS-secured CoAP)which ever is configured in the config.txt configuration file.</para></listitem></itemizedlist>
</para><sect1 id="_x_d_k__b_o_s_c_h__x_d_k__c_l_o_u_d__c_o_n_n_e_c_t_i_v_i_t_y__u_s_e_r__g_u_i_d_e_1XDK_SENSOR_LWM2M_APP_USER_GUIDE_USAGE">
<title>1.List of configurations to be in SD card:</title>
<para>In order to ensure XDK Bosch XDK Cloud Connectivity application proper operation user needs to supply minimum configurations via proper configuration copied into the in SD card <bold>config.txt</bold>, which are described below</para><sect2 id="_x_d_k__b_o_s_c_h__x_d_k__c_l_o_u_d__c_o_n_n_e_c_t_i_v_i_t_y__u_s_e_r__g_u_i_d_e_1XDK_SENSOR_LWM2M_APP_USER_GUIDE_SUBSECTION1">
<title>1.1 Parameter to configure the WLAN adapter</title>
<para>User needs to provide the WiFi Access point SSID and password ,via which the XDK will get connected to Lwm2m Server,in <bold>config.txt</bold> file. <linebreak/>
 <bold>Example Settings required for connecting XDK via External Access point </bold> <programlisting><codeline><highlight class="normal">SSID<sp/>=<sp/>Your-SSID</highlight></codeline>
<codeline><highlight class="normal">PASSWORD<sp/><sp/>=<sp/>Your-WPA2-PW<sp/></highlight></codeline>
</programlisting></para><para>XDK&apos;s Wlan adapter can be configured to have various IP addressing mechanism. It can be either configured as <bold>Static or Dynamic ip addressing</bold>. Additional care needs to be taken care by the user in case of static IP addressing mode,in providing appropriate STATICIP ,DNSSERVER ,GATEWAY, MASK values in the <bold>config.txt</bold> file. By default XDK&apos;s Wlan adapter is configured for dynamic IP addressing mode</para><para><bold>Example Settings required if Static IP addressing mode for XDK&apos;s wlan adapter </bold> <programlisting><codeline><highlight class="normal">STATIC=YES</highlight></codeline>
<codeline><highlight class="normal">STATICIP=192.168.1.5</highlight></codeline>
<codeline><highlight class="normal">DNSSERVER=192.168.1.1</highlight></codeline>
<codeline><highlight class="normal">GATEWAY=192.168.1.1</highlight></codeline>
<codeline><highlight class="normal">MASK=255.255.255.0</highlight></codeline>
</programlisting></para><para><blockquote><para>Note: To have default Dynamic IP addressing mode the user can delete the entries STATICIP ,DNSSERVER ,GATEWAY, MASK in the <bold>config.txt</bold> file if it is already present and make sure &quot;STATIC&quot; value is NO. </para></blockquote></para></sect2>
<sect2 id="_x_d_k__b_o_s_c_h__x_d_k__c_l_o_u_d__c_o_n_n_e_c_t_i_v_i_t_y__u_s_e_r__g_u_i_d_e_1XDK_SENSOR_LWM2M_APP_USER_GUIDE_SUBSECTION2">
<title>1.2 Parameter to configure the LWM2M client</title>
<para>User needs to provide atleaset these two information regarding LWM2M default server(LWM2MDEFSRV) and LWM2M endpoint name of device (LWM2MENDPOINT). Other optional parameters like LWM2M lifetime(LWM2MLIFETIME) in seconds,and enable CON notifies (LWM2MCONNOTIFIES) for mostly all resources.</para><para><bold>Example mandatory Settings required for configuring Lwm2m client </bold> <programlisting><codeline><highlight class="normal">LWM2MDEFSRV<sp/>=<sp/>coap://leshan.eclipse.org:5683</highlight></codeline>
<codeline><highlight class="normal">LWM2MENDPOINT<sp/>=<sp/>MY_ENDPOINT_NAME</highlight></codeline>
</programlisting> <blockquote><para>Note1: If the LWM2MENDPOINT name entry contains, #<mdash/>MAC-<mdash/># , this will be expanded to the WiFi MAC. E.g. &quot;lwm2m:#---MAC----#-1&quot; will be expanded to &quot;lwm2m:001122334455-1&quot;, if the MAC is 001122334455. </para></blockquote><linebreak/>
 <bold>Example Optional Settings for configuring Lwm2m client </bold> <programlisting><codeline><highlight class="normal">LWM2MLIFETIME<sp/>=<sp/>240</highlight></codeline>
<codeline><highlight class="normal">LWM2MCONNOTIFIES<sp/>=<sp/>YES</highlight></codeline>
</programlisting> <blockquote><para>Note: Default value for LWM2MLIFETIME is 240 seconds ,Default value for LWM2MCONNOTIFIES is NO </para></blockquote><linebreak/>
</para></sect2>
<sect2 id="_x_d_k__b_o_s_c_h__x_d_k__c_l_o_u_d__c_o_n_n_e_c_t_i_v_i_t_y__u_s_e_r__g_u_i_d_e_1XDK_SENSOR_LWM2M_APP_USER_GUIDE_SUBSECTION3">
<title>1.3 Parameter to configure the DTLS encryption</title>
<para>User needs to provide these mandatory information regarding LWM2M default server (LWM2MDEFSRV) , e.g coaps:// means DTLS is enabled , PSK identity(DTLSPSKIDENTITY) and PSK secret key in plain ASCII (DTLSPSKSECRETKEY). Other optional parameter like PSK secret key in hexadecimal format(DTLSPSKSECRETKEYHEX). If DTLSPSKIDENTITY value contains backslash, replace the backslash &quot;\&quot; (ex: xdk\123) with &quot;\\&quot; (ex: xdk\123).</para><para><bold>Example mandatory Settings required for configuring the DTLS encryption </bold> <programlisting><codeline><highlight class="normal">LWM2MDEFSRV<sp/>=<sp/>coaps://leshan.eclipse.org:5684<sp/></highlight></codeline>
<codeline><highlight class="normal">DTLSPSKIDENTITY<sp/>=<sp/>MY_PSK_IDENTITY_NAME</highlight></codeline>
<codeline><highlight class="normal">DTLSPSKSECRETKEY<sp/>=<sp/>XOMIRAREACE</highlight></codeline>
</programlisting></para><para><blockquote><para>Note1: If the DTLSPSKIDENTITY name is empty or missing and say DTLS/PSK is enabled, in this case the lwm2m endpoint name is used. #<mdash/>MAC-<mdash/># expanding is also supported. Additionally the token &quot;#-LWM2M-EP-#&quot; is expanded into the LWM2M endpoint name </para></blockquote><linebreak/>
 <blockquote><para>Note2: DTLSPSKSECRETKEY = PSK secret key. Not used, if DTLSPSKSECRETKEYHEX is provided. Plain ASCII encoded secret key. </para></blockquote></para><para><linebreak/>
 <bold>Example Optional Settings for configuring the DTLS encryption </bold> <programlisting><codeline><highlight class="normal">DTLSPSKSECRETKEYHEX<sp/>=<sp/>AA55AA55AF</highlight></codeline>
</programlisting> <blockquote><para>Note1: If PSK secret key in hexadecimal format (DTLSPSKSECRETKEYHEX) provided as optional parameter, then DTLSPSKSECRETKEY is ignored. </para></blockquote></para></sect2>
<sect2 id="_x_d_k__b_o_s_c_h__x_d_k__c_l_o_u_d__c_o_n_n_e_c_t_i_v_i_t_y__u_s_e_r__g_u_i_d_e_1XDK_SENSOR_LWM2M_APP_USER_GUIDE_SUBSECTION4">
<title>1.4 Example SD configuration file content</title>
<para><bold>Example &quot;config.txt&quot;to communicate with Eclipse sandbox LWM2M Server without encryption</bold></para><para>Example: &quot;config.txt&quot; <verbatim>SSID = Your-SSID
PASSWORD = Your-WPA2-PW
# Eclipse sandbox LWM2M Server without encryption
LWM2MDEFSRV = coap://leshan.eclipse.org:5683
LWM2MENDPOINT = MY_ENDPOINT_NAME
</verbatim></para><para><linebreak/>
 <bold>Example &quot;config.txt&quot; to communicate with Eclipse sandbox LWM2M Server with encryption</bold> <verbatim>SSID = Your-SSID
PASSWORD = Your-WPA2-PW
 # Eclipse sandbox LWM2M Server with encryption
LWM2MDEFSRV = coaps://leshan.eclipse.org:5684
DTLSPSKIDENTITY = MY_PSK_IDENTITY_NAME
LWM2MENDPOINT = MY_ENDPOINT_NAME
DTLSPSKSECRETKEYHEX = 01020304
</verbatim> </para></sect2>
</sect1>
<sect1 id="_x_d_k__b_o_s_c_h__x_d_k__c_l_o_u_d__c_o_n_n_e_c_t_i_v_i_t_y__u_s_e_r__g_u_i_d_e_1XDK_SENSOR_LWM2M_APP_USER_GUIDE_USAGE2">
<title>2.Usage of HMI LED and Buttons:</title>
<para>This section explains the usage of the LED&apos;s and Buttons with respect to this application</para><sect2 id="_x_d_k__b_o_s_c_h__x_d_k__c_l_o_u_d__c_o_n_n_e_c_t_i_v_i_t_y__u_s_e_r__g_u_i_d_e_1XDK_SENSOR_LWM2M_APP_USER_GUIDE_SUBSECTION2_1">
<title>2.1 Signals of the XDK Sensor LWM2M Client</title>
<para>The XDK offers 3 LEDs which are used to indicate the LWM2M registration state.</para><para><table rows="4" cols="4"><row>
<entry thead="yes"><para>LED </para></entry><entry thead="yes"><para>OFF </para></entry><entry thead="yes"><para>ON </para></entry><entry thead="yes"><para>blinking (1s/1s)  </para></entry></row>
<row>
<entry thead="no"><para>Yellow </para></entry><entry thead="no"><para>x </para></entry><entry thead="no"><para>x </para></entry><entry thead="no"><para>XDK is running </para></entry></row>
<row>
<entry thead="no"><para>Orange </para></entry><entry thead="no"><para>x </para></entry><entry thead="no"><para>Device is registering with the LWM2M server </para></entry><entry thead="no"><para>Device is updating the registration with the LWM2M server </para></entry></row>
<row>
<entry thead="no"><para>Red </para></entry><entry thead="no"><para>x </para></entry><entry thead="no"><para>Device is not registered with the LWM2M server </para></entry><entry thead="no"><para>Device is registering with the LWM2M server </para></entry></row>
</table>
<blockquote><para>Note1: All 3 LEDs are blinking: serious error occurred! Please restart the device. </para></blockquote></para><para><blockquote><para>Note2: All 3 LEDs ON: fatal error occurred! Please restart the device. </para></blockquote></para></sect2>
<sect2 id="_x_d_k__b_o_s_c_h__x_d_k__c_l_o_u_d__c_o_n_n_e_c_t_i_v_i_t_y__u_s_e_r__g_u_i_d_e_1XDK_SENSOR_LWM2M_APP_USER_GUIDE_SUBSECTION2_2">
<title>2.2 Buttons of the XDK Sensor LWM2M Client</title>
<para>Button 1 has mixed functionality<itemizedlist>
<listitem><para>During start of device: Button-1: is used to force to go into the bootloader mode</para></listitem><listitem><para>During execution of XDK Sensor LWM2M Client: It is used to notify alert message to server</para></listitem></itemizedlist>
</para><para>Below table gives various combinations of button events <table rows="16" cols="7"><row>
<entry thead="yes"><para>BUTTON </para></entry><entry thead="yes"><para>PRESSED </para></entry><entry thead="yes"><para>RELEASED </para></entry><entry thead="yes"><para>MODE </para></entry><entry thead="yes"><para>SD card Entry in config.txt file </para></entry><entry thead="yes"><para>EVENT</para></entry><entry thead="yes"><para>LED STATUS  </para></entry></row>
<row>
<entry thead="no"><para>Button-1 </para></entry><entry thead="no"><para>YES </para></entry><entry thead="no"><para>NA </para></entry><entry thead="no"><para>TESTMODE ON </para></entry><entry thead="no"><para>TESTMODE = YES </para></entry><entry thead="no"><para>Pressed event with instantaneous time stamp message sent to server </para></entry><entry thead="no"><para>RED ON </para></entry></row>
<row>
<entry thead="no"><para>Button-1 </para></entry><entry thead="no"><para>NA </para></entry><entry thead="no"><para>YES </para></entry><entry thead="no"><para>TESTMODE ON </para></entry><entry thead="no"><para>TESTMODE = YES </para></entry><entry thead="no"><para>Released event with instantaneous time stamp message sent to server</para></entry><entry thead="no"><para>RED OFF </para></entry></row>
<row>
<entry thead="no"><para>Button-1 </para></entry><entry thead="no"><para>YES </para></entry><entry thead="no"><para>NA </para></entry><entry thead="no"><para>TESTMODE MIX </para></entry><entry thead="no"><para>TESTMODE = MIX </para></entry><entry thead="no"><para>Pressed event with instantaneous time stamp message sent to server </para></entry><entry thead="no"><para>RED ON </para></entry></row>
<row>
<entry thead="no"><para>Button-1 </para></entry><entry thead="no"><para>NA </para></entry><entry thead="no"><para>YES </para></entry><entry thead="no"><para>TESTMODE MIX </para></entry><entry thead="no"><para>TESTMODE = MIX </para></entry><entry thead="no"><para>Released event with instantaneous time stamp message sent to server </para></entry><entry thead="no"><para>RED OFF </para></entry></row>
<row>
<entry thead="no"><para>Button-1 </para></entry><entry thead="no"><para>YES </para></entry><entry thead="no"><para>NA </para></entry><entry thead="no"><para>TESTMODE OFF </para></entry><entry thead="no"><para>TESTMODE = NO </para></entry><entry thead="no"><para>No Message sent to server </para></entry><entry thead="no"><para>NA </para></entry></row>
<row>
<entry thead="no"><para>Button-1 </para></entry><entry thead="no"><para>NA </para></entry><entry thead="no"><para>YES </para></entry><entry thead="no"><para>TESTMODE OFF </para></entry><entry thead="no"><para>TESTMODE = NO </para></entry><entry thead="no"><para>No Message sent to server </para></entry><entry thead="no"><para>NA </para></entry></row>
<row>
<entry thead="no"><para>Button-2 </para></entry><entry thead="no"><para>YES </para></entry><entry thead="no"><para>NA </para></entry><entry thead="no"><para>TESTMODE ON </para></entry><entry thead="no"><para>TESTMODE = YES </para></entry><entry thead="no"><para>No Message sent to server </para></entry><entry thead="no"><para>ORANGE OFF </para></entry></row>
<row>
<entry thead="no"><para>Button-2 </para></entry><entry thead="no"><para>NA </para></entry><entry thead="no"><para>YES </para></entry><entry thead="no"><para>TESTMODE ON </para></entry><entry thead="no"><para>TESTMODE = YES </para></entry><entry thead="no"><para>No Message sent to server </para></entry><entry thead="no"><para>ORANGE ON </para></entry></row>
<row>
<entry thead="no"><para>Button-2 </para></entry><entry thead="no"><para>YES </para></entry><entry thead="no"><para>NA </para></entry><entry thead="no"><para>TESTMODE MIX </para></entry><entry thead="no"><para>TESTMODE = MIX </para></entry><entry thead="no"><para>No Message sent to server </para></entry><entry thead="no"><para>ORANGE OFF </para></entry></row>
<row>
<entry thead="no"><para>Button-2 </para></entry><entry thead="no"><para>NA </para></entry><entry thead="no"><para>YES </para></entry><entry thead="no"><para>TESTMODE MIX </para></entry><entry thead="no"><para>TESTMODE = MIX </para></entry><entry thead="no"><para>No Message sent to server</para></entry><entry thead="no"><para>ORANGE ON </para></entry></row>
<row>
<entry thead="no"><para>Button-2 </para></entry><entry thead="no"><para>YES </para></entry><entry thead="no"><para>NA </para></entry><entry thead="no"><para>TESTMODE OFF </para></entry><entry thead="no"><para>TESTMODE = NO </para></entry><entry thead="no"><para>No Message sent to server </para></entry><entry thead="no"><para>NA </para></entry></row>
<row>
<entry thead="no"><para>Button-2 </para></entry><entry thead="no"><para>NA </para></entry><entry thead="no"><para>YES </para></entry><entry thead="no"><para>TESTMODE OFF </para></entry><entry thead="no"><para>TESTMODE = NO </para></entry><entry thead="no"><para>No Message sent to server </para></entry><entry thead="no"><para>NA </para></entry></row>
<row>
<entry thead="no"><para>Button1 &amp; Button-2 </para></entry><entry thead="no"><para>YES </para></entry><entry thead="no"><para>NA </para></entry><entry thead="no"><para>TESTMODE ON </para></entry><entry thead="no"><para>TESTMODE = YES </para></entry><entry thead="no"><para>triggers registration / update registration </para></entry><entry thead="no"><para>NA </para></entry></row>
<row>
<entry thead="no"><para>Button1 &amp; Button-2 </para></entry><entry thead="no"><para>YES </para></entry><entry thead="no"><para>NA </para></entry><entry thead="no"><para>TESTMODE MIX </para></entry><entry thead="no"><para>TESTMODE = MIX</para></entry><entry thead="no"><para>triggers registration / update registration </para></entry><entry thead="no"><para>NA </para></entry></row>
<row>
<entry thead="no"><para>Button1 &amp; Button-2 </para></entry><entry thead="no"><para>YES </para></entry><entry thead="no"><para>NA </para></entry><entry thead="no"><para>TESTMODE OFF </para></entry><entry thead="no"><para>TESTMODE = NO </para></entry><entry thead="no"><para>No Message sent to server </para></entry><entry thead="no"><para>NA </para></entry></row>
</table>
<blockquote><para>Note1: Please note the LED STATUs mentioned in the above table are instantaneous state values at that moment, hence the may change due to the scenarios mentioned below. </para></blockquote></para><para><blockquote><para>Scenario 1: If TESTMODE is set to ON ,Button 1 pressed long the expected behaviour is RED_LED must be ON. But since the TESTMODE is ON LED&apos;s are also got changed for various senario&apos;s like on successful registration it may be switched OFF. </para></blockquote></para><para><blockquote><para>Scenario 2: If TESTMODE is set to MIX ,Button 1 pressed long the expected behaviour is RED_LED must be ON. But at this instance if server writes to the RED_LED an value &apos;false&apos; , in that case the RED_LED Will be OFF </para></blockquote></para><para><blockquote><para>Note2: If TESTMODE is set to OFF , LED&apos;s behaviour can only be controlled by the server , in this case the trigger to any buttons will not affect the LED&apos;s behaviour </para></blockquote></para></sect2>
</sect1>
    </detaileddescription>
  </compounddef>
</doxygen>
