<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Context-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>XDK API: XDK Software Startup Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
	<div id="header">
		<table class="background-img">
			<tr>
				<td class="left">
					<img src="header_left.jpg" alt="" />
				</td>
				<td class="center">
					<img src="header_center.jpg" alt="" />
				</td>
				<td class="right">
					<img src="header_right.jpg" alt="" />
				</td>
			</tr>
		</table>
	</div>
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="XDK-Main-App-Icon-64.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">XDK API
   &#160;<span id="projectnumber">3.6.0</span>
   </div>
   <div id="projectbrief">Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<html><head></head><body></body></html><!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">XDK Software Startup Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Explains XDK Startup Procedure and how you can customize it</p>
<hr/>
<p>This simple guide is intended, for the developers who are going to develop applications for XDK, to know the basic startup procedure of the system before they start writing their application.</p>
<p>XDK software can be configured to start in two ways as described below. The configuration can be done using <b>BCDS_SYSTEM_STARTUP_METHOD</b> macro present in the <b>application Makefile</b>. Refer the code block below representing the change. Also Note that by default XDK is shipped with <b>DEFAULT_STARTUP</b> enabled.</p>
<div class="fragment"><div class="line">export BCDS_SYSTEM_STARTUP_METHOD=CUSTOM_STARTUP</div>
</div><!-- fragment --><h1><a class="anchor" id="XDK_SOFTWARE_STARTUP_GUIDE_Default_startup"></a>
Default Startup:</h1>
<p>The <code>Main()</code> function implemented in SystemStartUp module will be the first C function executed during power ON and it does the following,</p><ol type="1">
<li>EFM32 chip is configured to a proper state with the help of library function exported by emlib.</li>
<li>All the interrupt sources are configured to maximum priority to ensure, ISR runs at highest priority.</li>
<li>System peripherals like GPIO,I2C and USB are initialized to a proper state.</li>
<li>GPIO pins related to the device are configured to its default value.</li>
<li>User page module is initialized, which is used to save configuration information like Wifi MAC address, Bluetooth MAC address, etc., in the user page area of flash.</li>
<li>Create a default application specific initialization timer and start it.</li>
<li>Give control to operating system by starting task scheduler of FreeRTOS.</li>
</ol>
<h1><a class="anchor" id="XDK_SOFTWARE_STARTUP_GUIDE_Custom_startup"></a>
Custom Startup:</h1>
<p>Custom startup procedure will exclude step 3 to 5 described above in default startup procedure, to give flexibility to users, in order to have their own way of initializing system peripherals. The user can choose to initialize and configure the peripherals which he wants to use in his application. If, Custom startup procedure is configured, the user has to ensure the GPIO pins that they are using are initialized to a proper default state. In both of the above configurations XDK's SystemStartUp module will schedule a default application specific initialization timer "appInitSystem", which will run in the timer task context with task priority 2. </p><dl class="section note"><dt>Note</dt><dd>While creating the OS task inside place holder "appInitSystem" the priority of OS tasks created shall be preferably less than or equal to 2. Because assigning priority greater than 2 may block all the timer task having lesser priority in this case. So, all the user applications are expected to have the implementation of the task "appInitSystem" and this will be the place holder for application specific initialization function. Application specific initialization function can further create either "timers" or "OS tasks" as suitable for its purpose (refer <a class="el" href="_free_r_t_o_s_8h.html">FreeRTOS.h</a> for API reference).</dd></dl>
<h1><a class="anchor" id="Task_priority"></a>
Task creation and its priority:</h1>
<p>Users can find configuration related to FreeRTOS in a file called, <a class="el" href="_free_r_t_o_s_config_8h.html">FreeRTOSConfig.h</a> and it is present in path <b>"xdk110\Common\config\AmazonFreeRTOS"</b>. This contains information like maximum task priority, stack size, heap size, software timer configurations, CPU clock and interrupt priority configurations. As explained, the user can create "Timer" or "OS Task" for its application use. Since, the creation of OS task requires the user to specify the task priority and stack size, we expect the user, to understand the task priorities of FreeRTOS, if, they prefer to create and use OS task for their application (see <a href="http://www.freertos.org/RTOS.html">FreeRTOS</a> documentation). The maximum priority of a task in XDK software is presently configured to 5, which is controlled by the macro configMAX_PRIORITIES. Considering the fact that the interrupt routines should run in the highest task priority, XDK assigns maximum priority to its interrupt sources. So, any task running in XDK should have the priority less than the configMAX_PRIORITIES that is 5. For a user who does not want to get into the complexities of handling independent OS tasks, we suggest to use timers to realize their use cases.</p>
<h1><a class="anchor" id="Hardware_Interrupt_priority"></a>
Hardware Interrupt Priority:</h1>
<p>All hardware interrupts are configured to SYSCALL_INTERRUPT_PRIORITY_MAX.If user want to change the priority of any peripheral interrupts then it can be changed from 0 to SYSCALL_INTERRUPT_PRIORITY_MAX.Priority 0 means highest priority and SYSCALL_INTERRUPT_PRIORITY_MAX means least priority, within this priority range the ISR routine can call freeRTOS ISR safe API's(like xSemaphoreGiveFromISR)</p>
<p>Note: If the priority is set greater than SYSCALL_INTERRUPT_PRIORITY_MAX then freeRTOS ISR safe API's(like xSemaphoreGiveFromISR) must not be called in that particular peripheral ISR,violating this may have undesired behavior</p>
<h1><a class="anchor" id="XDK_SOFTWARE_STARTUP_GUIDE_helloworld1"></a>
Startup code for v3.4.0 and above</h1>
<div class="fragment"><div class="line">----------------------------------------------------Main.c--------------------------------------</div>
<div class="line"><span class="comment">/* own header files */</span></div>
<div class="line"><span class="preprocessor">#include &quot;XdkAppInfo.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#undef BCDS_MODULE_ID  </span><span class="comment">/* Module ID define before including Basics package*/</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define BCDS_MODULE_ID XDK_APP_MODULE_ID_MAIN</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* system header files */</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_b_c_d_s___basics_8h.html">BCDS_Basics.h</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* additional interface header files */</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_xdk_system_startup_8h.html">XdkSystemStartup.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_b_c_d_s___assert_8h.html">BCDS_Assert.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;AppController.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_b_c_d_s___cmd_processor_8h.html">BCDS_CmdProcessor.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_free_r_t_o_s_8h.html">FreeRTOS.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="task_8h.html">task.h</a>&quot;</span></div>
<div class="line"><span class="comment">/* own header files */</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* global variables ********************************************************* */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group___c_m_d_p_r_o_c_e_s_s_o_r.html#struct___cmd_processor___s">CmdProcessor_T</a> <a class="code" href="_aws_send_data_over_m_q_t_t_2source_2_main_8c.html#aadb24935a5b0cc34cfbeaa77a753cd02">MainCmdProcessor</a>;</div>
<div class="line"></div>
<div class="line"><span class="comment">/* functions */</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="_aws_send_data_over_m_q_t_t_2source_2_main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/* Mapping Default Error Handling function */</span></div>
<div class="line">    <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a> retcode = <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#gadb4826a798c4016fd6cd8dc692b84332">Retcode_Initialize</a>(<a class="code" href="group___s_y_s_t_e_m_s_t_a_r_t_u_p.html#ga19f4c992e7df69e2e32d1bf2080feab7">DefaultErrorHandlingFunc</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a> == retcode)</div>
<div class="line">    {</div>
<div class="line">        retcode = <a class="code" href="group___s_y_s_t_e_m_s_t_a_r_t_u_p.html#gab3bf0967da05629b9d5b23b21d15aeb1">systemStartup</a>();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a> == retcode)</div>
<div class="line">    {</div>
<div class="line">        retcode = <a class="code" href="group___c_m_d_p_r_o_c_e_s_s_o_r.html#ga2d76af33024f60e7bf8615e9dec40b4a">CmdProcessor_Initialize</a>(&amp;MainCmdProcessor, (<span class="keywordtype">char</span> *) <span class="stringliteral">&quot;MainCmdProcessor&quot;</span>, <a class="code" href="_aws_send_data_over_m_q_t_t_2source_2_xdk_app_info_8h.html#aaaea290a4f029263d2c051e305dfb7cf">TASK_PRIO_MAIN_CMD_PROCESSOR</a>, <a class="code" href="_aws_send_data_over_m_q_t_t_2source_2_xdk_app_info_8h.html#a1cf1174082b60ce670ef0d153a2ba7b7">TASK_STACK_SIZE_MAIN_CMD_PROCESSOR</a>, <a class="code" href="_aws_send_data_over_m_q_t_t_2source_2_xdk_app_info_8h.html#aa14fb429759adc9b801dff1b18971651">TASK_Q_LEN_MAIN_CMD_PROCESSOR</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a> == retcode)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* Here we enqueue the application initialization into the command</span></div>
<div class="line"><span class="comment">         * processor, such that the initialization function will be invoked</span></div>
<div class="line"><span class="comment">         * once the RTOS scheduler is started below.</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        retcode = <a class="code" href="group___c_m_d_p_r_o_c_e_s_s_o_r.html#ga3e1b249a3cf9fda8b6d891a3be76eb4e">CmdProcessor_Enqueue</a>(&amp;MainCmdProcessor, <a class="code" href="group___a_w_s___s_e_n_d___d_a_t_a___o_v_e_r___m_q_t_t.html#ga22919ee3de6947c4b6616a9231e71f67">AppController_Init</a>, &amp;MainCmdProcessor, UINT32_C(0));</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a> == retcode)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* start scheduler */</span></div>
<div class="line">        <a class="code" href="task_8h.html#aaf9dca1065c60abdeb309d56ab7293cb">vTaskStartScheduler</a>();</div>
<div class="line">        <span class="comment">/* Code must not reach here since the OS must take control. If not, we will assert. */</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga975eaf9537f3cdb4cd38370c7e58a2c2">Retcode_RaiseError</a>(retcode);</div>
<div class="line">        printf(<span class="stringliteral">&quot;main : XDK System Startup failed.\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="group___a_s_s_e_r_t.html#ga0041af519e0e7d47c9bcc83760c4669e">assert</a>(<span class="keyword">false</span>);</div>
<div class="line">}</div>
<div class="line">----------------------------------------------------End of application------------------------------------</div>
</div><!-- fragment --><h2><a class="anchor" id="XDK_SOFTWARE_STARTUP_GUIDE_helloworld"></a>
As per the Application Common Control Flow Changes by using CommandProcessor in XDK-3.4.0 &amp; above:</h2>
<p>Example : The following is the sample application to write a application using xdk modules.</p>
<ol type="1">
<li>Application should follow the below three steps : <ul>
<li>
<b>Setup</b> - Here necessary modules required for the application like WLAN, BLE ,Sensors etc from the common are defined </li>
<li>
<b>Enable</b> - Here necessary modules required for the application are enabled </li>
<li>
<b>Fire</b> - After the setup and enable is done , fire is responsible for controlling application control flow. Any application logic which is blocking in nature or fixed time dependent can be placed in this API. </li>
</ul>
</li>
<li>Command processor should be used for all event based operation</li>
<li>Tasks should be used for polling based operation</li>
<li>Try to avoid Software timer usage</li>
<li>All reusable components/modules should be placed in common repo. Application Features should be independent from BCDS shared package/3rd party library.</li>
<li>Common repository : <ul>
<li>
Feature control should be based on run time configurable Ex. security enable/disable </li>
<li>
Feature enable/disable should be controlled from config macro. Ex. #define XDK_BLE_FEATURE 1 </li>
<li>
Features should be RTOS and ServalStack independent </li>
<li>
Each module/components should support Setup, Enable APIs. <ul>
<li>
These Setup, Enable apis should be a blocking call and must be command processor independent </li>
<li>
Optionally modules should support Disable, Close apis. </li>
<li>
All used resources properly initialized and de-initialized incluing static variables. </li>
</ul>
</li>
<li>
Variable naming for function return value <ul>
<li>
retcode - Retcode_T </li>
<li>
rc - retcode_t </li>
<li>
result - any other result value </li>
<li>
status - any other status value </li>
</ul>
</li>
</ul>
<div class="fragment"><div class="line">----------------------------------------------------Application.c--------------------------------------</div>
<div class="line"><span class="comment">/* own header files */</span></div>
<div class="line"><span class="preprocessor">#include &quot;XdkAppInfo.h&quot;</span></div>
<div class="line"><span class="preprocessor">#undef BCDS_MODULE_ID  </span><span class="comment">/* Module ID define before including Basics package*/</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define BCDS_MODULE_ID XDK_APP_MODULE_ID_APP_CONTROLLER</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* own header files */</span></div>
<div class="line"><span class="preprocessor">#include &quot;AppController.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* system header files */</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* additional interface header files */</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_b_c_d_s___cmd_processor_8h.html">BCDS_CmdProcessor.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_free_r_t_o_s_8h.html">FreeRTOS.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="task_8h.html">task.h</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* constant definitions ***************************************************** */</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* local variables ********************************************************** */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group___c_m_d_p_r_o_c_e_s_s_o_r.html#struct___cmd_processor___s">CmdProcessor_T</a> * <a class="code" href="group___a_w_s___s_e_n_d___d_a_t_a___o_v_e_r___m_q_t_t.html#ga90ce7b07b4530c957f9f83201d8dc8bc">AppCmdProcessor</a>;</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="_free_r_t_o_s_8h.html#af7cd8f53b62f0c497b442b504c30f2ec">xTaskHandle</a> <a class="code" href="group___a_w_s___s_e_n_d___d_a_t_a___o_v_e_r___m_q_t_t.html#ga6fa700b048407619b5309da95dcce5dd">AppControllerHandle</a> = <a class="code" href="group___b_a_s_i_c_s.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"></div>
<div class="line"><span class="comment">/* global variables ********************************************************* */</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* inline functions ********************************************************* */</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* local functions ********************************************************** */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="group___a_w_s___s_e_n_d___d_a_t_a___o_v_e_r___m_q_t_t.html#gab69e900037ff919feff8de34718fd2f5">AppControllerFire</a>(<span class="keywordtype">void</span>* pvParameters)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group___b_a_s_i_c_s.html#ga58d989b8568ab592dc4bcf48d05f28e4">BCDS_UNUSED</a>(pvParameters);</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* A function that implements a task must not exit or attempt to return to</span></div>
<div class="line"><span class="comment">     its caller function as there is nothing to return to. */</span></div>
<div class="line">    <span class="keywordflow">while</span> (1)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* code to implement application control flow */</span></div>
<div class="line">        ;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="group___a_w_s___s_e_n_d___d_a_t_a___o_v_e_r___m_q_t_t.html#ga5ef9cc8f277726dc19c525c8049d388f">AppControllerEnable</a>(<span class="keywordtype">void</span> * param1, uint32_t param2)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group___b_a_s_i_c_s.html#ga58d989b8568ab592dc4bcf48d05f28e4">BCDS_UNUSED</a>(param1);</div>
<div class="line">    <a class="code" href="group___b_a_s_i_c_s.html#ga58d989b8568ab592dc4bcf48d05f28e4">BCDS_UNUSED</a>(param2);</div>
<div class="line">    <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a> retcode = <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a>;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* @todo - Enable necessary modules for the application and check their return values */</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a> == retcode)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (pdPASS != xTaskCreate(<a class="code" href="group___a_w_s___s_e_n_d___d_a_t_a___o_v_e_r___m_q_t_t.html#gab69e900037ff919feff8de34718fd2f5">AppControllerFire</a>, (<span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> ) <span class="stringliteral">&quot;AppController&quot;</span>, <a class="code" href="_aws_send_data_over_m_q_t_t_2source_2_xdk_app_info_8h.html#af793604cd2dbedfc6b69f10936fe7c41">TASK_STACK_SIZE_APP_CONTROLLER</a>, <a class="code" href="group___b_a_s_i_c_s.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="_aws_send_data_over_m_q_t_t_2source_2_xdk_app_info_8h.html#a4651501b886d4de331b9f06b37265177">TASK_PRIO_APP_CONTROLLER</a>, &amp;AppControllerHandle))</div>
<div class="line">        {</div>
<div class="line">            retcode = <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#gaf3d88b09f14c70141276ad2f817313e8">RETCODE</a>(<a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#gga3ce26363bdf4978dc972e8ccce5046d6a822e4e2bf138bd0ac1387ad140a3051e">RETCODE_SEVERITY_ERROR</a>, <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ggaf6fb6f6ae1be4277d38a8684e1be9acba497273b2285191edc1cda8648b67250a">RETCODE_OUT_OF_RESOURCES</a>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a> != retcode)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;AppControllerEnable : Failed \r\n&quot;</span>);</div>
<div class="line">        <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga975eaf9537f3cdb4cd38370c7e58a2c2">Retcode_RaiseError</a>(retcode);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="group___a_w_s___s_e_n_d___d_a_t_a___o_v_e_r___m_q_t_t.html#ga5ca12481e985f2cd2437fe712e08c9b7">AppControllerSetup</a>(<span class="keywordtype">void</span> * param1, uint32_t param2)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group___b_a_s_i_c_s.html#ga58d989b8568ab592dc4bcf48d05f28e4">BCDS_UNUSED</a>(param1);</div>
<div class="line">    <a class="code" href="group___b_a_s_i_c_s.html#ga58d989b8568ab592dc4bcf48d05f28e4">BCDS_UNUSED</a>(param2);</div>
<div class="line">    <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a> retcode = <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a>;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* @todo - Setup the necessary modules required for the application */</span></div>
<div class="line"></div>
<div class="line">    retcode = <a class="code" href="group___c_m_d_p_r_o_c_e_s_s_o_r.html#ga3e1b249a3cf9fda8b6d891a3be76eb4e">CmdProcessor_Enqueue</a>(AppCmdProcessor, <a class="code" href="group___a_w_s___s_e_n_d___d_a_t_a___o_v_e_r___m_q_t_t.html#ga5ef9cc8f277726dc19c525c8049d388f">AppControllerEnable</a>, <a class="code" href="group___b_a_s_i_c_s.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, UINT32_C(0));</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a> != retcode)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;AppControllerSetup : Failed \r\n&quot;</span>);</div>
<div class="line">        <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga975eaf9537f3cdb4cd38370c7e58a2c2">Retcode_RaiseError</a>(retcode);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/* global functions ********************************************************* */</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="group___a_w_s___s_e_n_d___d_a_t_a___o_v_e_r___m_q_t_t.html#ga22919ee3de6947c4b6616a9231e71f67">AppController_Init</a>(<span class="keywordtype">void</span> * cmdProcessorHandle, uint32_t param2)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group___b_a_s_i_c_s.html#ga58d989b8568ab592dc4bcf48d05f28e4">BCDS_UNUSED</a>(param2);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a> retcode = <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (cmdProcessorHandle == <a class="code" href="group___b_a_s_i_c_s.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;AppController_Run : Command processor handle is NULL \r\n&quot;</span>);</div>
<div class="line">        retcode = <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#gaf3d88b09f14c70141276ad2f817313e8">RETCODE</a>(<a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#gga3ce26363bdf4978dc972e8ccce5046d6a822e4e2bf138bd0ac1387ad140a3051e">RETCODE_SEVERITY_ERROR</a>, <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ggaf6fb6f6ae1be4277d38a8684e1be9acba5d476dcd59fa4e9cf717ce9484a0df08">RETCODE_NULL_POINTER</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        AppCmdProcessor = (<a class="code" href="group___c_m_d_p_r_o_c_e_s_s_o_r.html#struct___cmd_processor___s">CmdProcessor_T</a> *) cmdProcessorHandle;</div>
<div class="line">        retcode = <a class="code" href="group___c_m_d_p_r_o_c_e_s_s_o_r.html#ga3e1b249a3cf9fda8b6d891a3be76eb4e">CmdProcessor_Enqueue</a>(AppCmdProcessor, <a class="code" href="group___a_w_s___s_e_n_d___d_a_t_a___o_v_e_r___m_q_t_t.html#ga5ca12481e985f2cd2437fe712e08c9b7">AppControllerSetup</a>, <a class="code" href="group___b_a_s_i_c_s.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, UINT32_C(0));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a> != retcode)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga975eaf9537f3cdb4cd38370c7e58a2c2">Retcode_RaiseError</a>(retcode);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line">----------------------------------------------------End of application------------------------------------</div>
</div><!-- fragment --></li>
</ol>
<h1><a class="anchor" id="XDK_SOFTWARE_STARTUP_GUIDE_helloworld_program"></a>
Procedure to realize 'hello world' program on XDK for version below XDK-3.0.0:</h1>
<p>Realizing "Hello World" program in XDK is straight forward and pretty simple. All, the user has to do is, as explained, implement default application specific initialization task and print 'hello world' as below,</p>
<div class="fragment"><div class="line">----------------------------------------------------Main.c--------------------------------------</div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* system header files */</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_b_c_d_s___basics_8h.html">BCDS_Basics.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_b_c_d_s___cmd_processor_8h.html">BCDS_CmdProcessor.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_b_c_d_s___assert_8h.html">BCDS_Assert.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_free_r_t_o_s_8h.html">FreeRTOS.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="task_8h.html">task.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;BEA_bleEchoData_cc.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* additional interface header files */</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_xdk_system_startup_8h.html">XdkSystemStartup.h</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* global variables ********************************************************* */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group___c_m_d_p_r_o_c_e_s_s_o_r.html#struct___cmd_processor___s">CmdProcessor_T</a> <a class="code" href="_aws_send_data_over_m_q_t_t_2source_2_main_8c.html#aadb24935a5b0cc34cfbeaa77a753cd02">MainCmdProcessor</a>;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="_aws_send_data_over_m_q_t_t_2source_2_main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/* Mapping Default Error Handling function */</span></div>
<div class="line">    <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a> returnValue = Retcode_initialize(<a class="code" href="group___s_y_s_t_e_m_s_t_a_r_t_u_p.html#ga19f4c992e7df69e2e32d1bf2080feab7">DefaultErrorHandlingFunc</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a> == returnValue)</div>
<div class="line">    {</div>
<div class="line">        returnValue = <a class="code" href="group___s_y_s_t_e_m_s_t_a_r_t_u_p.html#gab3bf0967da05629b9d5b23b21d15aeb1">systemStartup</a>();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a> == returnValue)</div>
<div class="line">    {</div>
<div class="line">        returnValue = CmdProcessor_initialize(&amp;MainCmdProcessor, (<span class="keywordtype">char</span> *) <span class="stringliteral">&quot;MainCmdProcessor&quot;</span>, <a class="code" href="_aws_send_data_over_m_q_t_t_2source_2_xdk_app_info_8h.html#aaaea290a4f029263d2c051e305dfb7cf">TASK_PRIO_MAIN_CMD_PROCESSOR</a>, <a class="code" href="_aws_send_data_over_m_q_t_t_2source_2_xdk_app_info_8h.html#a1cf1174082b60ce670ef0d153a2ba7b7">TASK_STACK_SIZE_MAIN_CMD_PROCESSOR</a>, <a class="code" href="_aws_send_data_over_m_q_t_t_2source_2_xdk_app_info_8h.html#aa14fb429759adc9b801dff1b18971651">TASK_Q_LEN_MAIN_CMD_PROCESSOR</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a> == returnValue)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* Here we enqueue the application initialization into the command</span></div>
<div class="line"><span class="comment">         * processor, such that the initialization function will be invoked</span></div>
<div class="line"><span class="comment">         * once the RTOS scheduler is started below.</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        returnValue = CmdProcessor_enqueue(&amp;MainCmdProcessor, appInitSystem, &amp;MainCmdProcessor, UINT32_C(0));</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a> != returnValue)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;System Startup failed&quot;</span>);</div>
<div class="line">        <a class="code" href="group___a_s_s_e_r_t.html#ga0041af519e0e7d47c9bcc83760c4669e">assert</a>(<span class="keyword">false</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">/* start scheduler */</span></div>
<div class="line">    <a class="code" href="task_8h.html#aaf9dca1065c60abdeb309d56ab7293cb">vTaskStartScheduler</a>();</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line">----------------------------------------------------application.c--------------------------------------</div>
<div class="line"><span class="comment">/* system header files */</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_b_c_d_s___basics_8h.html">BCDS_Basics.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* additional interface header files */</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_free_r_t_o_s_8h.html">FreeRTOS.h</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="_free_r_t_o_s_8h.html#af7cd8f53b62f0c497b442b504c30f2ec">xTaskHandle</a> Application_gdt; </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * @brief Application to print &quot;hello world&quot; on serial console.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> Application_init(<span class="keywordtype">void</span> * pvParameters)</div>
<div class="line">{</div>
<div class="line">   (void) pvParameters;</div>
<div class="line">    <span class="keywordflow">for</span> (;;)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Hello world\r\n&quot;</span>);</div>
<div class="line">        <a class="code" href="task_8h.html#aa154068cecd7f31446a7a84af44ab1a3">vTaskDelay</a>((<a class="code" href="_free_r_t_o_s_8h.html#a324d7087026e1e9dfe6b7567d5bf63c8">portTickType</a>) 1000 / <a class="code" href="_free_r_t_o_s_8h.html#a8689cad2afb0c5f65d866e2c356378bf">portTICK_RATE_MS</a>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * @brief This is a template function where the user can write his/her custom application.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> appInitSystem(<span class="keywordtype">void</span> * CmdProcessorHandle, uint32_t param2)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group___b_a_s_i_c_s.html#ga58d989b8568ab592dc4bcf48d05f28e4">BCDS_UNUSED</a>(CmdProcessorHandle);</div>
<div class="line">    <a class="code" href="group___b_a_s_i_c_s.html#ga58d989b8568ab592dc4bcf48d05f28e4">BCDS_UNUSED</a>(param2);</div>
<div class="line">    <span class="comment">/*Call the Application Init API*/</span></div>
<div class="line">    xTaskCreate(Application_init, (<span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span>) <span class="stringliteral">&quot;Application_init&quot;</span>,</div>
<div class="line">    256,<a class="code" href="group___b_a_s_i_c_s.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,1,&amp;Application_gdt);</div>
<div class="line">}</div>
<div class="line">----------------------------------End of application----------------------------------------------------</div>
</div><!-- fragment --><p>Message "Hello World" will be printed on the console after flashing the above implementation.</p>
<p>A more efficient way of doing this however would be to use a timer:</p>
<div class="fragment"><div class="line">----------------------------------------------------application.c--------------------------------------</div>
<div class="line"><span class="comment">/* system header files */</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_b_c_d_s___basics_8h.html">BCDS_Basics.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* additional interface header files */</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_free_r_t_o_s_8h.html">FreeRTOS.h</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define THREESECONDDELAY UINT32_C(1000) </span><span class="comment">/* one second is represented by this macro */</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define TIMERBLOCKTIME   UINT32_C(0xffff)    </span><span class="comment">/* Macro used to define blocktime of a timer */</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define TIMER_AUTORELOAD_ON             UINT32_C(1)             </span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * @brief Print string &quot;Hello World&quot; on the console</span></div>
<div class="line"><span class="comment"> * @param[in] pxTimer timer handle</span></div>
<div class="line"><span class="comment"> */</span><span class="preprocessor"></span></div>
<div class="line"><span class="keywordtype">void</span> printHelloWorld(<a class="code" href="_free_r_t_o_s_8h.html#a9fa57c444af781c3b6286f5cc9e4982d">xTimerHandle</a> pxTimer)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group___b_a_s_i_c_s.html#ga58d989b8568ab592dc4bcf48d05f28e4">BCDS_UNUSED</a>(pxTimer);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Hello world\r\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * @brief Application to print &quot;hello world&quot; on serial console.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> Application_init(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="_free_r_t_o_s_8h.html#a9fa57c444af781c3b6286f5cc9e4982d">xTimerHandle</a> timerHandle_gdt;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* create timer task to read and print lightsensor data every three seconds*/</span></div>
<div class="line">     <span class="comment">/* Validated for portMAX_DELAY to assist the task to wait Infinitely (without timing out) and ticks cannot be 0 in FreeRTOS timer. So ticks is assigned to 1*/</span></div>
<div class="line">    timerHandle_gdt = xTimerCreate(</div>
<div class="line">        (<span class="keywordtype">char</span> * <span class="keyword">const</span>) <span class="stringliteral">&quot;Test Application to print Hello World&quot;</span>, (THREESECONDDELAY/<a class="code" href="_free_r_t_o_s_8h.html#a8689cad2afb0c5f65d866e2c356378bf">portTICK_RATE_MS</a>),</div>
<div class="line">        <a class="code" href="_wlan_connect_8c.html#a9217e4b2eea7545a34b4fdbe9bea48b2">TIMER_AUTORELOAD_ON</a>, <a class="code" href="group___b_a_s_i_c_s.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, printHelloWorld);</div>
<div class="line"></div>
<div class="line">    <span class="comment">/*start the timer*/</span></div>
<div class="line">    <a class="code" href="timers_8h.html#a3a9b838f48991e852ce05c986b0eeb8c">xTimerStart</a>(timerHandle_gdt, <a class="code" href="group___s_y_s_t_e_m_s_t_a_r_t_u_p.html#ga549d000e57b2860a7d246bad225c70ae">TIMERBLOCKTIME</a>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * @brief This is a template function where the user can write his/her custom application.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> appInitSystem(<span class="keywordtype">void</span> * CmdProcessorHandle, uint32_t param2)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group___b_a_s_i_c_s.html#ga58d989b8568ab592dc4bcf48d05f28e4">BCDS_UNUSED</a>(CmdProcessorHandle);</div>
<div class="line">    <a class="code" href="group___b_a_s_i_c_s.html#ga58d989b8568ab592dc4bcf48d05f28e4">BCDS_UNUSED</a>(param2);</div>
<div class="line">    Application_init();</div>
<div class="line">}</div>
<div class="line">----------------------------------------------------End of application------------------------------------</div>
</div><!-- fragment --><h2><a class="anchor" id="XDK-XDK_SOFTWARE_STARTUP_GUIDE_helloworld_program"></a>
As per the Application Common Control Flow Changes by using CommandProcessor in XDK-3.0.0 to XDK-3.3.1:</h2>
<p>Example : Message "Hello World" will be printed on the console after flashing the above implementation.</p>
<p>A more efficient way of doing this however would be to use a timer and CommandProcessor:</p>
<div class="fragment"><div class="line">----------------------------------------------------application.c--------------------------------------</div>
<div class="line"><span class="comment">/* system header files */</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_b_c_d_s___basics_8h.html">BCDS_Basics.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* additional interface header files */</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_free_r_t_o_s_8h.html">FreeRTOS.h</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define THREESECONDDELAY UINT32_C(1000) </span><span class="comment">/* one second is represented by this macro */</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define TIMERBLOCKTIME   UINT32_C(0xffff)    </span><span class="comment">/* Macro used to define blocktime of a timer */</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define TIMER_AUTORELOAD_ON             UINT32_C(1)             </span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">/*Application Command Processor Instance */</span><span class="preprocessor"></span></div>
<div class="line"><a class="code" href="group___c_m_d_p_r_o_c_e_s_s_o_r.html#struct___cmd_processor___s">CmdProcessor_T</a> *<a class="code" href="group___a_w_s___s_e_n_d___d_a_t_a___o_v_e_r___m_q_t_t.html#ga90ce7b07b4530c957f9f83201d8dc8bc">AppCmdProcessor</a>;</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> printHelloWorld(<span class="keywordtype">void</span> * param1, uint32_t param2)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group___b_a_s_i_c_s.html#ga58d989b8568ab592dc4bcf48d05f28e4">BCDS_UNUSED</a>(param1);</div>
<div class="line">    <a class="code" href="group___b_a_s_i_c_s.html#ga58d989b8568ab592dc4bcf48d05f28e4">BCDS_UNUSED</a>(param2);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Hello world\r\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * @brief Print string &quot;Hello World&quot; on the console</span></div>
<div class="line"><span class="comment"> * @param[in] pxTimer timer handle</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> processUsbPrintMsg(<a class="code" href="_free_r_t_o_s_8h.html#a9fa57c444af781c3b6286f5cc9e4982d">xTimerHandle</a> pxTimer)</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group___b_a_s_i_c_s.html#ga58d989b8568ab592dc4bcf48d05f28e4">BCDS_UNUSED</a>(pxTimer); <span class="comment">/* suppressing warning message */</span></div>
<div class="line">    <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a> returnValue = <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a>;</div>
<div class="line">    returnValue = CmdProcessor_enqueue(AppCmdProcessor, printHelloWorld, <a class="code" href="group___b_a_s_i_c_s.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, UINT32_C(0));</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a> != returnValue)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Enqueuing for PrintHelloWorld callback failed\n\r&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * @brief Application to print &quot;hello world&quot; on serial console.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> Application_init(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="_free_r_t_o_s_8h.html#a9fa57c444af781c3b6286f5cc9e4982d">xTimerHandle</a> timerHandle_gdt;</div>
<div class="line">     * Return <a class="code" href="_b_l_e_s_w___cycling_power_01_release_notes_8txt.html#a5cad1470ef119e32b6400227eeaa8b18">value</a> <span class="keywordflow">for</span> Timer start */</div>
<div class="line">    int8_t retValPerSwTimer = TIMER_NOT_ENOUGH_MEMORY;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* create timer task to read and print lightsensor data every three seconds*/</span></div>
<div class="line">     <span class="comment">/* Validated for portMAX_DELAY to assist the task to wait Infinitely (without timing out) and ticks cannot be 0 in FreeRTOS timer. So ticks is assigned to 1*/</span></div>
<div class="line">    timerHandle_gdt = xTimerCreate(</div>
<div class="line">        (<span class="keywordtype">char</span> * <span class="keyword">const</span>) <span class="stringliteral">&quot;Test Application to print Hello World&quot;</span>, (THREESECONDDELAY/<a class="code" href="_free_r_t_o_s_8h.html#a8689cad2afb0c5f65d866e2c356378bf">portTICK_RATE_MS</a>),</div>
<div class="line">        <a class="code" href="_wlan_connect_8c.html#a9217e4b2eea7545a34b4fdbe9bea48b2">TIMER_AUTORELOAD_ON</a>, <a class="code" href="group___b_a_s_i_c_s.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, processUsbPrintMsg);</div>
<div class="line">    </div>
<div class="line">        <span class="comment">/* timer create fail case */</span></div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___b_a_s_i_c_s.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> == timerHandle_gdt)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">/* Assertion Reason: &quot;This software timer was not Created, Due to Insufficient heap memory&quot; */</span></div>
<div class="line">            <a class="code" href="group___a_s_s_e_r_t.html#ga0041af519e0e7d47c9bcc83760c4669e">assert</a>(<span class="keyword">false</span>);</div>
<div class="line">        }</div>
<div class="line">    <span class="comment">/*start the timer*/</span></div>
<div class="line">    retValPerSwTimer = <a class="code" href="timers_8h.html#a3a9b838f48991e852ce05c986b0eeb8c">xTimerStart</a>(timerHandle_gdt, <a class="code" href="group___s_y_s_t_e_m_s_t_a_r_t_u_p.html#ga549d000e57b2860a7d246bad225c70ae">TIMERBLOCKTIME</a>);</div>
<div class="line">         <span class="comment">/* Timer start fail case */</span></div>
<div class="line">        <span class="keywordflow">if</span> (TIMER_NOT_ENOUGH_MEMORY == retValPerSwTimer)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">/* Assertion Reason: &quot;This software timer was not started, Due to Insufficient heap memory&quot; */</span></div>
<div class="line">            <a class="code" href="group___a_s_s_e_r_t.html#ga0041af519e0e7d47c9bcc83760c4669e">assert</a>(<span class="keyword">false</span>);</div>
<div class="line">        }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * @brief This is a template function where the user can write his/her custom application.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> appInitSystem(<span class="keywordtype">void</span> * CmdProcessorHandle, uint32_t param2)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (CmdProcessorHandle == <a class="code" href="group___b_a_s_i_c_s.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Command processor handle is null \n\r&quot;</span>);</div>
<div class="line">        <a class="code" href="group___a_s_s_e_r_t.html#ga0041af519e0e7d47c9bcc83760c4669e">assert</a>(<span class="keyword">false</span>);</div>
<div class="line">    }</div>
<div class="line">    AppCmdProcessor = (<a class="code" href="group___c_m_d_p_r_o_c_e_s_s_o_r.html#struct___cmd_processor___s">CmdProcessor_T</a> *)CmdProcessorHandle;</div>
<div class="line">    <a class="code" href="group___b_a_s_i_c_s.html#ga58d989b8568ab592dc4bcf48d05f28e4">BCDS_UNUSED</a>(param2);</div>
<div class="line">    Application_init();</div>
<div class="line">}</div>
<div class="line">----------------------------------------------------End of application------------------------------------</div>
</div><!-- fragment --> </div></div><!-- contents -->
	<hr size="1" />
	All rights reserved. The use is subject to the XDK SDK EULA by Bosch Connected Devices and Solutions GmbH. 
	<hr size="1" />
	<address style="align: right;">
		<small>This documentation file has been automatically generated on Thu Mar 14 2019 19:12:49 by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.8.8</small>
	</address>
</body>
</html>