<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Context-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>XDK API: SDK/xdk110/Libraries/ServalStack/3rd-party/ServalStack/api/Serval_HttpServer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
	<div id="header">
		<table class="background-img">
			<tr>
				<td class="left">
					<img src="header_left.jpg" alt="" />
				</td>
				<td class="center">
					<img src="header_center.jpg" alt="" />
				</td>
				<td class="right">
					<img src="header_right.jpg" alt="" />
				</td>
			</tr>
		</table>
	</div>
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="XDK-Main-App-Icon-64.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">XDK API
   &#160;<span id="projectnumber">3.6.0</span>
   </div>
   <div id="projectbrief">Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<html><head></head><body></body></html><!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ec4762a68cf92b76e0cf6c3151395d91.html">SDK</a></li><li class="navelem"><a class="el" href="dir_3ad35e3a8069b84129d75940e36308b0.html">xdk110</a></li><li class="navelem"><a class="el" href="dir_eb47dd56e224277ceada86f918a18997.html">Libraries</a></li><li class="navelem"><a class="el" href="dir_c666bb16549e9d1f0280499601d0fb9b.html">ServalStack</a></li><li class="navelem"><a class="el" href="dir_3652e036576cc45b01690fb9d4550f00.html">3rd-party</a></li><li class="navelem"><a class="el" href="dir_a2bd7e67fe6d55af8a539b3513fa8707.html">ServalStack</a></li><li class="navelem"><a class="el" href="dir_f5651ec72074d059e330a818571e7fec.html">api</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Serval_HttpServer.h File Reference<div class="ingroups"><a class="el" href="group___n_e_t_w_o_r_k.html">Network</a> &raquo; <a class="el" href="group___w_l_a_n___n_e_t_w_o_r_k_i_n_g.html">WLAN</a> &raquo; <a class="el" href="group___n_e_t_w_o_r_k___p_r_o_t_o_c_o_l_s.html">Network Protocols</a> &raquo; <a class="el" href="group__httpgroup.html">HTTP</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>HTTP Server ModuleThe interface description of the HTTP server.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="_serval___defines_8h.html">Serval_Defines.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_serval___types_8h.html">Serval_Types.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_serval___http_8h.html">Serval_Http.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_serval___callable_8h.html">Serval_Callable.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_serval___tcp_8h.html">Serval_Tcp.h</a>&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for Serval_HttpServer.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="_serval___http_server_8h__incl.png" border="0" usemap="#_s_d_k_2xdk110_2_libraries_2_serval_stack_23rd-party_2_serval_stack_2api_2_serval___http_server_8h" alt=""/></div>
<map name="_s_d_k_2xdk110_2_libraries_2_serval_stack_23rd-party_2_serval_stack_2api_2_serval___http_server_8h" id="_s_d_k_2xdk110_2_libraries_2_serval_stack_23rd-party_2_serval_stack_2api_2_serval___http_server_8h">
<area shape="rect" id="node2" href="_serval___defines_8h.html" title="Essential configurations of the library. " alt="" coords="983,273,1102,300"/><area shape="rect" id="node3" href="_serval___types_8h.html" title="Serval data types definitions. " alt="" coords="1438,423,1549,449"/><area shape="rect" id="node39" href="_serval___http_8h.html" title="Interface to HTTP constantsThis module provides declarations which are commonly used by HTTP..." alt="" coords="993,124,1092,151"/><area shape="rect" id="node45" href="_serval___callable_8h.html" title="An implementation of function objects.This module implements a data structure Callable_T which encaps..." alt="" coords="734,348,855,375"/><area shape="rect" id="node50" href="_serval___tcp_8h.html" title="An interface to the platform TCP (Transport Layer) " alt="" coords="1420,124,1516,151"/><area shape="rect" id="node4" href="_serval___basics_8h.html" title="This header file includes the PBasic.h file which must be provided by the PAL. " alt="" coords="1588,497,1703,524"/><area shape="rect" id="node38" href="_serval___exceptions_8h.html" title="Serval ExceptionHandlingThis interface provides type definitions, data types and functions to handle ..." alt="" coords="1423,497,1563,524"/><area shape="rect" id="node5" href="_p_basics_8h.html" title="PBasics.h" alt="" coords="1585,572,1668,599"/><area shape="rect" id="node6" href="_b_c_d_s___assert_8h.html" title="BCDS_Assert.h" alt="" coords="1551,871,1665,897"/><area shape="rect" id="node8" href="_b_c_d_s___basics_8h.html" title="BCDS_Basics.h" alt="" coords="1698,1020,1814,1047"/><area shape="rect" id="node16" href="_p_threading_8h.html" title="PThreading.h" alt="" coords="1352,647,1451,673"/><area shape="rect" id="node23" href="_b_c_d_s___serval_pal_8h.html" title="BCDS_ServalPal.h" alt="" coords="1741,796,1872,823"/><area shape="rect" id="node26" href="simplelink_8h.html" title="simplelink.h" alt="" coords="695,647,785,673"/><area shape="rect" id="node7" href="_b_c_d_s___retcode_8h.html" title="BCDS_Retcode.h" alt="" coords="1694,945,1818,972"/><area shape="rect" id="node17" href="_free_r_t_o_s_8h.html" title="FreeRTOS.h" alt="" coords="1209,721,1303,748"/><area shape="rect" id="node19" href="_free_r_t_o_s_config_8h.html" title="FreeRTOSConfig.h" alt="" coords="1348,796,1479,823"/><area shape="rect" id="node21" href="semphr_8h.html" title="semphr.h" alt="" coords="1462,721,1538,748"/><area shape="rect" id="node22" href="task_8h.html" title="task.h" alt="" coords="1379,721,1437,748"/><area shape="rect" id="node24" href="_b_c_d_s___cmd_processor_8h.html" title="BCDS_CmdProcessor.h" alt="" coords="1932,871,2095,897"/><area shape="rect" id="node25" href="_b_c_d_s___serval_pal_config_8h.html" title="Configuration header for the BCDS ServalPal components. " alt="" coords="1741,871,1907,897"/><area shape="rect" id="node28" href="obj_inclusion_8h.html" title="../source/objInclusion.h" alt="" coords="274,721,430,748"/><area shape="rect" id="node29" href="trace_8h.html" title="trace.h" alt="" coords="454,721,517,748"/><area shape="rect" id="node30" href="fs_8h.html" title="fs.h" alt="" coords="541,721,584,748"/><area shape="rect" id="node31" href="socket_8h.html" title="socket.h" alt="" coords="608,721,680,748"/><area shape="rect" id="node32" href="netapp_8h.html" title="netapp.h" alt="" coords="704,721,776,748"/><area shape="rect" id="node33" href="_libraries_2_wi_fi_23rd-party_2_t_i_2simplelink_2include_2_w_l_a_n_8h.html" title="wlan.h" alt="" coords="800,721,859,748"/><area shape="rect" id="node34" href="device_8h.html" title="device.h" alt="" coords="883,721,952,748"/><area shape="rect" id="node35" href="netcfg_8h.html" title="netcfg.h" alt="" coords="977,721,1045,748"/><area shape="rect" id="node36" href="wlan__rx__filters_8h.html" title="wlan_rx_filters.h" alt="" coords="1069,721,1184,748"/><area shape="rect" id="node37" href="nonos_8h.html" title="../source/nonos.h" alt="" coords="44,721,167,748"/><area shape="rect" id="node40" href="_serval___policy_8h.html" title="Definition of backward compatibility. " alt="" coords="1719,348,1830,375"/><area shape="rect" id="node41" href="_serval___string_descr_8h.html" title="This module defines a string descriptor type.This interface provides type definitions, data types and functions to handle string descriptors. " alt="" coords="1227,348,1370,375"/><area shape="rect" id="node42" href="_serval___msg_8h.html" title="An interface to the Messaging Module.This interface provides type definitions, data types and functio..." alt="" coords="1418,199,1518,225"/><area shape="rect" id="node43" href="_serval___xml_parser_8h.html" title="Interface to XML ParserThe purpose of this module is scanning a XML document. This means that the cha..." alt="" coords="1178,273,1313,300"/><area shape="rect" id="node44" href="_serval___filesystem_8h.html" title="An interface to the platform filesystem. " alt="" coords="1556,348,1695,375"/><area shape="rect" id="node47" href="_serval___ip_8h.html" title="Interface to the platform IP management. " alt="" coords="1825,273,1911,300"/><area shape="rect" id="node49" href="_serval___msg___obsolete_8h.html" title="Serval_Msg_Obsolete.h" alt="" coords="1389,273,1547,300"/><area shape="rect" id="node46" href="_serval___struct_ctx_8h.html" title="Struct context moduleThis header provides the macro GET_CONTEXT_OF_MEMBER which calculates the addres..." alt="" coords="359,423,489,449"/><area shape="rect" id="node48" href="_p_ip_8h.html" title="PIp.h" alt="" coords="2043,572,2095,599"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abe0d70fb88d3b7dcfb9e3227989e894a"><td class="memItemLeft" align="right" valign="top">char const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_serval___http_server_8h.html#abe0d70fb88d3b7dcfb9e3227989e894a">HttpServer_formatHost</a> (<a class="el" href="_p_ip_8h.html#ac1d21d89ac985b0d00d1697d098a1d1e">Ip_Address_T</a> *addr, char *buf_ptr)</td></tr>
<tr class="separator:abe0d70fb88d3b7dcfb9e3227989e894a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf72f107edd11b910953dabc0bd50aac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_serval___types_8h.html#a473797d61ec6d5f5a4f91d1d8b56b198">retcode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_serval___http_server_8h.html#aaf72f107edd11b910953dabc0bd50aac">HttpServer_initialize</a> (void)</td></tr>
<tr class="separator:aaf72f107edd11b910953dabc0bd50aac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb8f707029acbc032a01cde3a72e1be7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_serval___types_8h.html#a473797d61ec6d5f5a4f91d1d8b56b198">retcode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_serval___http_server_8h.html#acb8f707029acbc032a01cde3a72e1be7">HttpServer_respond</a> (<a class="el" href="_serval___msg_8h.html#ae00d936510d9d4493cae90cf1ff00ee4">Msg_T</a> *msg_ptr, <a class="el" href="_serval___http_8h.html#af22615874c8f03d8a13f390abcecac41">Http_StatusCode_T</a> respStatus, const char *contentType, <a class="el" href="_serval___callable_8h.html#aa408037ca2aba1815007b4f41386f7c6">Callable_T</a> *alpCallback_ptr)</td></tr>
<tr class="separator:acb8f707029acbc032a01cde3a72e1be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d887502b8e67e344c0e577b466b969c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_serval___types_8h.html#a473797d61ec6d5f5a4f91d1d8b56b198">retcode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_serval___http_server_8h.html#a2d887502b8e67e344c0e577b466b969c">HttpServer_start</a> (<a class="el" href="_serval___http_8h.html#a138771e8f4730dc3c654b139c6de2053">HttpServerInstance_T</a> *HttpServerInstance_ptr)</td></tr>
<tr class="separator:a2d887502b8e67e344c0e577b466b969c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="abe0d70fb88d3b7dcfb9e3227989e894a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char const* HttpServer_formatHost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_ip_8h.html#ac1d21d89ac985b0d00d1697d098a1d1e">Ip_Address_T</a> *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts a given host address to the correct format of either IPv4 or IPv6 depending on the definition of SERVAL_IPV6. In the case IPv6 the host IP address will be put in brackets "[...]".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>The address to which the formatting is intended.</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buf_ptr</td><td>The pointer to the buffer which will contain the converted address (zero terminating). The buffer must not be smaller than (SERVAL_IP_ADDR_LEN + 1), where SERVAL_IP_ADDR_LEN is the value specified by the Platform Adaption Layer (PAL) as the maximal length of a serialized IP address.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>String representing the formatted address in either IPv4 or IPv6, depending on the definition of SERVAL_IPV6. </dd></dl>

</div>
</div>
<a class="anchor" id="aaf72f107edd11b910953dabc0bd50aac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_serval___types_8h.html#a473797d61ec6d5f5a4f91d1d8b56b198">retcode_t</a> HttpServer_initialize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the HTTP server including all needed used modules.</p>
<dl class="section return"><dt>Returns</dt><dd>RC_OK if successful TODO: Error handling! </dd></dl>

</div>
</div>
<a class="anchor" id="acb8f707029acbc032a01cde3a72e1be7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_serval___types_8h.html#a473797d61ec6d5f5a4f91d1d8b56b198">retcode_t</a> HttpServer_respond </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_serval___msg_8h.html#ae00d936510d9d4493cae90cf1ff00ee4">Msg_T</a> *&#160;</td>
          <td class="paramname"><em>msg_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_serval___http_8h.html#af22615874c8f03d8a13f390abcecac41">Http_StatusCode_T</a>&#160;</td>
          <td class="paramname"><em>respStatus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>contentType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_serval___callable_8h.html#aa408037ca2aba1815007b4f41386f7c6">Callable_T</a> *&#160;</td>
          <td class="paramname"><em>alpCallback_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is responsible for responding to an HTTP request. It is used by upper protocols such the Webserver or DPWS to respond to incoming requests. It builds the HTTP message header and hands the message to the MsgSender to send it via TCP.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg_ptr</td><td>Pointer to the Msg_T element representing the request/response message.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">respStatus</td><td>The HTTP status code</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">contentType</td><td>The content type of HTTP response (e.g. "application/soap+xml")</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">alpCallback_ptr</td><td>Pointer to function that would act as a callback function when sending is completed. This callback function will be invoked to notify the upper-layer about the result of the sending.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RC_OK or RC_SERVAL_ERROR TODO: Error handling! </dd></dl>

</div>
</div>
<a class="anchor" id="a2d887502b8e67e344c0e577b466b969c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_serval___types_8h.html#a473797d61ec6d5f5a4f91d1d8b56b198">retcode_t</a> HttpServer_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_serval___http_8h.html#a138771e8f4730dc3c654b139c6de2053">HttpServerInstance_T</a> *&#160;</td>
          <td class="paramname"><em>HttpServerInstance_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function opens a port and registers a handling function for this port. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">HttpServerInstance_ptr</td><td>pointer to the connection and port to be handled</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RC_OK on success or RC_HTTP_LISTEN_ERROR if listening at the port fails. </dd></dl>

</div>
</div>
</div><!-- contents -->
	<hr size="1" />
	All rights reserved. The use is subject to the XDK SDK EULA by Bosch Connected Devices and Solutions GmbH. 
	<hr size="1" />
	<address style="align: right;">
		<small>This documentation file has been automatically generated on Thu Mar 14 2019 19:12:45 by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.8.8</small>
	</address>
</body>
</html>