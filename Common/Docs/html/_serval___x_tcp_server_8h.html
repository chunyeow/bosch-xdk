<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Context-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>XDK API: SDK/xdk110/Libraries/ServalStack/3rd-party/ServalStack/api/Serval_XTcpServer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
	<div id="header">
		<table class="background-img">
			<tr>
				<td class="left">
					<img src="header_left.jpg" alt="" />
				</td>
				<td class="center">
					<img src="header_center.jpg" alt="" />
				</td>
				<td class="right">
					<img src="header_right.jpg" alt="" />
				</td>
			</tr>
		</table>
	</div>
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="XDK-Main-App-Icon-64.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">XDK API
   &#160;<span id="projectnumber">3.6.0</span>
   </div>
   <div id="projectbrief">Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<html><head></head><body></body></html><!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ec4762a68cf92b76e0cf6c3151395d91.html">SDK</a></li><li class="navelem"><a class="el" href="dir_3ad35e3a8069b84129d75940e36308b0.html">xdk110</a></li><li class="navelem"><a class="el" href="dir_eb47dd56e224277ceada86f918a18997.html">Libraries</a></li><li class="navelem"><a class="el" href="dir_c666bb16549e9d1f0280499601d0fb9b.html">ServalStack</a></li><li class="navelem"><a class="el" href="dir_3652e036576cc45b01690fb9d4550f00.html">3rd-party</a></li><li class="navelem"><a class="el" href="dir_a2bd7e67fe6d55af8a539b3513fa8707.html">ServalStack</a></li><li class="navelem"><a class="el" href="dir_f5651ec72074d059e330a818571e7fec.html">api</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Serval_XTcpServer.h File Reference<div class="ingroups"><a class="el" href="group___n_e_t_w_o_r_k.html">Network</a> &raquo; <a class="el" href="group___w_l_a_n___n_e_t_w_o_r_k_i_n_g.html">WLAN</a> &raquo; <a class="el" href="group___n_e_t_w_o_r_k___p_r_o_t_o_c_o_l_s.html">Network Protocols</a> &raquo; <a class="el" href="group__xtcpgroup.html">TCP</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The interface description of a proprietary TCP Server based application protocol.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="_serval___defines_8h.html">Serval_Defines.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_serval___types_8h.html">Serval_Types.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_serval___x_tcp_8h.html">Serval_XTcp.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_serval___callable_8h.html">Serval_Callable.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_serval___tcp_8h.html">Serval_Tcp.h</a>&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for Serval_XTcpServer.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="_serval___x_tcp_server_8h__incl.png" border="0" usemap="#_s_d_k_2xdk110_2_libraries_2_serval_stack_23rd-party_2_serval_stack_2api_2_serval___x_tcp_server_8h" alt=""/></div>
<map name="_s_d_k_2xdk110_2_libraries_2_serval_stack_23rd-party_2_serval_stack_2api_2_serval___x_tcp_server_8h" id="_s_d_k_2xdk110_2_libraries_2_serval_stack_23rd-party_2_serval_stack_2api_2_serval___x_tcp_server_8h">
<area shape="rect" id="node2" href="_serval___defines_8h.html" title="Essential configurations of the library. " alt="" coords="262,273,381,300"/><area shape="rect" id="node3" href="_serval___types_8h.html" title="Serval data types definitions. " alt="" coords="745,423,855,449"/><area shape="rect" id="node39" href="_serval___x_tcp_8h.html" title="The interface description of a proprietary TCP based application protocol both for client and server..." alt="" coords="625,124,727,151"/><area shape="rect" id="node44" href="_serval___callable_8h.html" title="An implementation of function objects.This module implements a data structure Callable_T which encaps..." alt="" coords="1269,348,1390,375"/><area shape="rect" id="node50" href="_serval___tcp_8h.html" title="An interface to the platform TCP (Transport Layer) " alt="" coords="752,124,848,151"/><area shape="rect" id="node4" href="_serval___basics_8h.html" title="This header file includes the PBasic.h file which must be provided by the PAL. " alt="" coords="837,497,952,524"/><area shape="rect" id="node38" href="_serval___exceptions_8h.html" title="Serval ExceptionHandlingThis interface provides type definitions, data types and functions to handle ..." alt="" coords="622,497,762,524"/><area shape="rect" id="node5" href="_p_basics_8h.html" title="PBasics.h" alt="" coords="805,572,888,599"/><area shape="rect" id="node6" href="_b_c_d_s___assert_8h.html" title="BCDS_Assert.h" alt="" coords="485,871,600,897"/><area shape="rect" id="node8" href="_b_c_d_s___basics_8h.html" title="BCDS_Basics.h" alt="" coords="579,1020,695,1047"/><area shape="rect" id="node16" href="_p_threading_8h.html" title="PThreading.h" alt="" coords="692,647,791,673"/><area shape="rect" id="node23" href="_b_c_d_s___serval_pal_8h.html" title="BCDS_ServalPal.h" alt="" coords="312,796,443,823"/><area shape="rect" id="node26" href="simplelink_8h.html" title="simplelink.h" alt="" coords="1601,647,1692,673"/><area shape="rect" id="node7" href="_b_c_d_s___retcode_8h.html" title="BCDS_Retcode.h" alt="" coords="386,945,510,972"/><area shape="rect" id="node17" href="_free_r_t_o_s_8h.html" title="FreeRTOS.h" alt="" coords="855,721,950,748"/><area shape="rect" id="node19" href="_free_r_t_o_s_config_8h.html" title="FreeRTOSConfig.h" alt="" coords="687,796,817,823"/><area shape="rect" id="node21" href="semphr_8h.html" title="semphr.h" alt="" coords="703,721,779,748"/><area shape="rect" id="node22" href="task_8h.html" title="task.h" alt="" coords="620,721,679,748"/><area shape="rect" id="node24" href="_b_c_d_s___cmd_processor_8h.html" title="BCDS_CmdProcessor.h" alt="" coords="5,871,168,897"/><area shape="rect" id="node25" href="_b_c_d_s___serval_pal_config_8h.html" title="Configuration header for the BCDS ServalPal components. " alt="" coords="243,871,410,897"/><area shape="rect" id="node28" href="obj_inclusion_8h.html" title="../source/objInclusion.h" alt="" coords="1435,721,1591,748"/><area shape="rect" id="node29" href="trace_8h.html" title="trace.h" alt="" coords="1615,721,1678,748"/><area shape="rect" id="node30" href="fs_8h.html" title="fs.h" alt="" coords="1703,721,1745,748"/><area shape="rect" id="node31" href="socket_8h.html" title="socket.h" alt="" coords="1769,721,1841,748"/><area shape="rect" id="node32" href="netapp_8h.html" title="netapp.h" alt="" coords="1865,721,1937,748"/><area shape="rect" id="node33" href="_libraries_2_wi_fi_23rd-party_2_t_i_2simplelink_2include_2_w_l_a_n_8h.html" title="wlan.h" alt="" coords="1961,721,2020,748"/><area shape="rect" id="node34" href="device_8h.html" title="device.h" alt="" coords="2044,721,2113,748"/><area shape="rect" id="node35" href="netcfg_8h.html" title="netcfg.h" alt="" coords="974,721,1042,748"/><area shape="rect" id="node36" href="wlan__rx__filters_8h.html" title="wlan_rx_filters.h" alt="" coords="1067,721,1181,748"/><area shape="rect" id="node37" href="nonos_8h.html" title="../source/nonos.h" alt="" coords="1205,721,1328,748"/><area shape="rect" id="node40" href="_serval___msg_8h.html" title="An interface to the Messaging Module.This interface provides type definitions, data types and functio..." alt="" coords="750,199,850,225"/><area shape="rect" id="node41" href="_serval___string_descr_8h.html" title="This module defines a string descriptor type.This interface provides type definitions, data types and functions to handle string descriptors. " alt="" coords="985,348,1127,375"/><area shape="rect" id="node42" href="_serval___xml_parser_8h.html" title="Interface to XML ParserThe purpose of this module is scanning a XML document. This means that the cha..." alt="" coords="955,273,1090,300"/><area shape="rect" id="node43" href="_serval___filesystem_8h.html" title="An interface to the platform filesystem. " alt="" coords="507,273,645,300"/><area shape="rect" id="node46" href="_serval___ip_8h.html" title="Interface to the platform IP management. " alt="" coords="401,348,487,375"/><area shape="rect" id="node48" href="_serval___policy_8h.html" title="Definition of backward compatibility. " alt="" coords="850,348,961,375"/><area shape="rect" id="node49" href="_serval___msg___obsolete_8h.html" title="Serval_Msg_Obsolete.h" alt="" coords="721,273,879,300"/><area shape="rect" id="node45" href="_serval___struct_ctx_8h.html" title="Struct context moduleThis header provides the macro GET_CONTEXT_OF_MEMBER which calculates the addres..." alt="" coords="1676,423,1807,449"/><area shape="rect" id="node47" href="_p_ip_8h.html" title="PIp.h" alt="" coords="247,572,299,599"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0f3449806b87b8fbc492225ef61a975f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_serval___types_8h.html#a473797d61ec6d5f5a4f91d1d8b56b198">retcode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_serval___x_tcp_server_8h.html#a0f3449806b87b8fbc492225ef61a975f">XTcpServer_initialize</a> (void)</td></tr>
<tr class="memdesc:a0f3449806b87b8fbc492225ef61a975f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the XTCP server including all needed used modules.  <a href="#a0f3449806b87b8fbc492225ef61a975f">More...</a><br /></td></tr>
<tr class="separator:a0f3449806b87b8fbc492225ef61a975f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34cdd64eb7362b1e77f2903b48b421c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_serval___types_8h.html#a473797d61ec6d5f5a4f91d1d8b56b198">retcode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_serval___x_tcp_server_8h.html#a34cdd64eb7362b1e77f2903b48b421c8">XTcpServer_listen</a> (<a class="el" href="_p_ip_8h.html#a946a51fb3a1e4f79c1f86ad62fb1e1c1">Ip_Port_T</a> serverPort, <a class="el" href="_serval___x_tcp_8h.html#a5df3a3024f3d4cc514bc37001f8fd2c7">AppXTcpCallback_T</a> appSndCallback, <a class="el" href="_serval___x_tcp_8h.html#a5df3a3024f3d4cc514bc37001f8fd2c7">AppXTcpCallback_T</a> appRcvCallback)</td></tr>
<tr class="memdesc:a34cdd64eb7362b1e77f2903b48b421c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function opens a port and registers a handling function for this port.  <a href="#a34cdd64eb7362b1e77f2903b48b421c8">More...</a><br /></td></tr>
<tr class="separator:a34cdd64eb7362b1e77f2903b48b421c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38b26066623be266b4c380cfb28aa584"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_serval___types_8h.html#a473797d61ec6d5f5a4f91d1d8b56b198">retcode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_serval___x_tcp_server_8h.html#a38b26066623be266b4c380cfb28aa584">XTcpServer_unlisten</a> (<a class="el" href="_p_ip_8h.html#a946a51fb3a1e4f79c1f86ad62fb1e1c1">Ip_Port_T</a> port)</td></tr>
<tr class="memdesc:a38b26066623be266b4c380cfb28aa584"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function stops an active TCP Server. When TCP Server is enabled, this function stops the listening by deleting the socket. After invoking this function the socket used by this module is invalid, and must not be used for any further communication unless reinitialized.  <a href="#a38b26066623be266b4c380cfb28aa584">More...</a><br /></td></tr>
<tr class="separator:a38b26066623be266b4c380cfb28aa584"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section since"><dt>Since</dt><dd>1.4 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0f3449806b87b8fbc492225ef61a975f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_serval___types_8h.html#a473797d61ec6d5f5a4f91d1d8b56b198">retcode_t</a> XTcpServer_initialize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RC_OK</td><td>on successful </td></tr>
    <tr><td class="paramname">RC_XTCP_SERVER_INIT_ERROR</td><td>if an error occurs while initializing the XTcp Server</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd>Initialize an XTcp Server</dd></dl>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Initialize a TCP Server</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;if (RC_OK != XTcpServer_initialize())</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;{</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    printf(&quot;Util and xTCP initialization failure!\n\r&quot;);</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a34cdd64eb7362b1e77f2903b48b421c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_serval___types_8h.html#a473797d61ec6d5f5a4f91d1d8b56b198">retcode_t</a> XTcpServer_listen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_ip_8h.html#a946a51fb3a1e4f79c1f86ad62fb1e1c1">Ip_Port_T</a>&#160;</td>
          <td class="paramname"><em>serverPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_serval___x_tcp_8h.html#a5df3a3024f3d4cc514bc37001f8fd2c7">AppXTcpCallback_T</a>&#160;</td>
          <td class="paramname"><em>appSndCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_serval___x_tcp_8h.html#a5df3a3024f3d4cc514bc37001f8fd2c7">AppXTcpCallback_T</a>&#160;</td>
          <td class="paramname"><em>appRcvCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">serverPort</td><td>TCP Server secure port to listen on </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">appSndCallback</td><td>Callback function for Send data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">appRcvCallback</td><td>Callback function for Received data</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RC_OK</td><td>on success </td></tr>
    <tr><td class="paramname">RC_XTCP_LISTEN_ERROR</td><td>if the TCP Server was not started correctly.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd>Start a TCP Server listener</dd></dl>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Ip_Port_T serverPort = Ip_convertIntToPort(9999);</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;// Start a TCP Server</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if (RC_OK == XTcpServer_listen(serverPort, appSendCallback, appReceiveCallback))</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;{</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    printf(&quot;TCP Server Started...\n\r&quot;);</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;}</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;else</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;{</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    printf(&quot;TCP Server not started!\n\r&quot;);</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;}</div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="_serval___x_tcp_client_8h.html#a2a563599a516e303ff50d54449b073c2" title="Initiate a client side, generic TCP connection with a server. Note that the connection is not opened ...">XTcpClient_connect()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a38b26066623be266b4c380cfb28aa584"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_serval___types_8h.html#a473797d61ec6d5f5a4f91d1d8b56b198">retcode_t</a> XTcpServer_unlisten </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_ip_8h.html#a946a51fb3a1e4f79c1f86ad62fb1e1c1">Ip_Port_T</a>&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Server Port to be unlisten</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RC_OK</td><td>on success </td></tr>
    <tr><td class="paramname">RC_XTCP_LISTEN_ERROR</td><td>if the listener to be closed is invalid or close function fails</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd>Stop a TCP Server (unlisten) <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Ip_Port_T serverPort1 = Ip_convertIntToPort(9999);</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;// Close a TCP Server</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if (RC_OK == XTcpServer_unlisten(serverPort1))</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;{</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    printf(&quot;TCP Server was stopped ...\n\r&quot;);</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;}</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;else</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;{</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;   printf(&quot;TCP Server was not stopped!\n\r&quot;);</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
</div><!-- contents -->
	<hr size="1" />
	All rights reserved. The use is subject to the XDK SDK EULA by Bosch Connected Devices and Solutions GmbH. 
	<hr size="1" />
	<address style="align: right;">
		<small>This documentation file has been automatically generated on Thu Mar 14 2019 19:12:46 by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.8.8</small>
	</address>
</body>
</html>