<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Context-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>XDK API: SDK/xdk110/Libraries/BLEStack/3rd-party/Alpwise/ALPW-BLESDKCM3/BLESW_CoreStack/Integration/_PortingTemplates_/BleSystem.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
	<div id="header">
		<table class="background-img">
			<tr>
				<td class="left">
					<img src="header_left.jpg" alt="" />
				</td>
				<td class="center">
					<img src="header_center.jpg" alt="" />
				</td>
				<td class="right">
					<img src="header_right.jpg" alt="" />
				</td>
			</tr>
		</table>
	</div>
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="XDK-Main-App-Icon-64.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">XDK API
   &#160;<span id="projectnumber">3.6.0</span>
   </div>
   <div id="projectbrief">Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<html><head></head><body></body></html><!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ec4762a68cf92b76e0cf6c3151395d91.html">SDK</a></li><li class="navelem"><a class="el" href="dir_3ad35e3a8069b84129d75940e36308b0.html">xdk110</a></li><li class="navelem"><a class="el" href="dir_eb47dd56e224277ceada86f918a18997.html">Libraries</a></li><li class="navelem"><a class="el" href="dir_80dcb6d64a243eab41e52bf9b16ff41a.html">BLEStack</a></li><li class="navelem"><a class="el" href="dir_032c0b262d8cd678af0b231d027f9425.html">3rd-party</a></li><li class="navelem"><a class="el" href="dir_078beabbff9f1bef3c1f56088e8b2bdd.html">Alpwise</a></li><li class="navelem"><a class="el" href="dir_3279a5641b82493790333db1285a71c5.html">ALPW-BLESDKCM3</a></li><li class="navelem"><a class="el" href="dir_a8a65f37c7e408e1a3d2fef48c36f9a9.html">BLESW_CoreStack</a></li><li class="navelem"><a class="el" href="dir_1872e145d5ebd006cc3fb52542a8c3db.html">Integration</a></li><li class="navelem"><a class="el" href="dir_351e8d73b9c21891ed946f520e7d8322.html">_PortingTemplates_</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">BleSystem.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_ble_types_8h.html">BleTypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_ble_system_8h.html">BleSystem.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for BleSystem.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="_ble_system_8c__incl.png" border="0" usemap="#_s_d_k_2xdk110_2_libraries_2_b_l_e_stack_23rd-party_2_alpwise_2_a_l_p_w-_b_l_e_s_d_k_c_m3_2_b_l_e_s_w___core_stack_2_integration_2___porting_templates___2_ble_system_8c" alt=""/></div>
<map name="_s_d_k_2xdk110_2_libraries_2_b_l_e_stack_23rd-party_2_alpwise_2_a_l_p_w-_b_l_e_s_d_k_c_m3_2_b_l_e_s_w___core_stack_2_integration_2___porting_templates___2_ble_system_8c" id="_s_d_k_2xdk110_2_libraries_2_b_l_e_stack_23rd-party_2_alpwise_2_a_l_p_w-_b_l_e_s_d_k_c_m3_2_b_l_e_s_w___core_stack_2_integration_2___porting_templates___2_ble_system_8c">
<area shape="rect" id="node2" href="_ble_types_8h.html" title="BleTypes.h" alt="" coords="95,213,182,240"/><area shape="rect" id="node5" href="_ble_system_8h.html" title="BleSystem.h" alt="" coords="134,139,231,165"/><area shape="rect" id="node3" href="_ble_config_8h.html" title="BleConfig.h" alt="" coords="95,288,183,315"/><area shape="rect" id="node4" href="_common_2config_2_b_l_e_custom_config_8h.html" title="BLECustomConfig.h" alt="" coords="69,363,208,389"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aea03852267e73019391033c4afc10b36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ble_system_8c.html#aea03852267e73019391033c4afc10b36">SYSTEM_CancelTimer</a> (void)</td></tr>
<tr class="separator:aea03852267e73019391033c4afc10b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5b2f31ab4cf42b40a157ccf94048519"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ble_system_8c.html#ae5b2f31ab4cf42b40a157ccf94048519">SYSTEM_CreateTimer</a> (void *func, void *param, <a class="el" href="_ble_types_8h.html#a811024d35b9b8a41095b1f583b649e56">U32</a> millisecond)</td></tr>
<tr class="separator:ae5b2f31ab4cf42b40a157ccf94048519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7075172a4ee0dadb45b65aa54276be60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ble_system_8c.html#a7075172a4ee0dadb45b65aa54276be60">SYSTEM_DatabaseMutexPend</a> (void)</td></tr>
<tr class="separator:a7075172a4ee0dadb45b65aa54276be60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab70c2f4c136c32167af5cd50c65278b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ble_system_8c.html#ab70c2f4c136c32167af5cd50c65278b1">SYSTEM_DatabaseMutexPost</a> (void)</td></tr>
<tr class="separator:ab70c2f4c136c32167af5cd50c65278b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc3b05fa002d7d6691d93454c4a09a25"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ble_system_8c.html#adc3b05fa002d7d6691d93454c4a09a25">SYSTEM_StackMutexPend</a> (void)</td></tr>
<tr class="separator:adc3b05fa002d7d6691d93454c4a09a25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace421c7c66b2caec3fced6c8188223c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ble_system_8c.html#ace421c7c66b2caec3fced6c8188223c6">SYSTEM_StackMutexPost</a> (void)</td></tr>
<tr class="separator:ace421c7c66b2caec3fced6c8188223c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65372745d14128ffbb349918c446cc6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ble_types_8h.html#a811024d35b9b8a41095b1f583b649e56">U32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ble_system_8c.html#a65372745d14128ffbb349918c446cc6a">SYSTEM_TimerGetRemain</a> (void)</td></tr>
<tr class="separator:a65372745d14128ffbb349918c446cc6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aea03852267e73019391033c4afc10b36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SYSTEM_CancelTimer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The stack request its timer destruction</p>
<p><a class="el" href="_ble_system_8c.html#aea03852267e73019391033c4afc10b36">SYSTEM_CancelTimer()</a> The BLE stack no more need timer. it request destruction of the timer created with <a class="el" href="_ble_system_8c.html#ae5b2f31ab4cf42b40a157ccf94048519">SYSTEM_CreateTimer()</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_ble_system_8c.html#ae5b2f31ab4cf42b40a157ccf94048519">SYSTEM_CreateTimer()</a> , <a class="el" href="_ble_system_8c.html#a65372745d14128ffbb349918c446cc6a">SYSTEM_TimerGetRemain()</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alexandre GIMARD </dd></dl>

</div>
</div>
<a class="anchor" id="ae5b2f31ab4cf42b40a157ccf94048519"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SYSTEM_CreateTimer </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ble_types_8h.html#a811024d35b9b8a41095b1f583b649e56">U32</a>&#160;</td>
          <td class="paramname"><em>millisecond</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The stack request a timer creation</p>
<p>SYSTEM_TimerCreate() The BLE stack need one timer in order to calulates timeout or wachdog. It uses this function to create the timer, timers are internally multiplexed, so it need only one.</p>
<dl class="section see"><dt>See also</dt><dd>SYSTEM_TimerCancel() , <a class="el" href="_ble_system_8c.html#a65372745d14128ffbb349918c446cc6a">SYSTEM_TimerGetRemain()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>: pointer to a function to call when the timer expires </td></tr>
    <tr><td class="paramname">param</td><td>: param to pass in func when the timer expire </td></tr>
    <tr><td class="paramname">millisecond</td><td>: time to wait before the timer expiration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alexandre GIMARD </dd></dl>

</div>
</div>
<a class="anchor" id="a7075172a4ee0dadb45b65aa54276be60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SYSTEM_DatabaseMutexPend </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lock the Attribute database mutex.</p>
<p><a class="el" href="_ble_system_8c.html#a7075172a4ee0dadb45b65aa54276be60">SYSTEM_DatabaseMutexPend()</a> The BLE stack uses a MUTEX to prevent internal/external multiple access to the Attribute protocol database, the BLE stack calls this function to acquire the MUTEX. This function SHALL be implemented. Note that the User application does not call this function directly, but call the application interface ATT_Server_SecureDatabaseAccess().</p>
<p>It could be implemented using a mutex or perhaps a semaphore</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_ble_system_8c.html#ab70c2f4c136c32167af5cd50c65278b1">SYSTEM_DatabaseMutexPost()</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alexandre GIMARD </dd></dl>

</div>
</div>
<a class="anchor" id="ab70c2f4c136c32167af5cd50c65278b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SYSTEM_DatabaseMutexPost </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlock the stack mutex.</p>
<p><a class="el" href="_ble_system_8c.html#ab70c2f4c136c32167af5cd50c65278b1">SYSTEM_DatabaseMutexPost()</a> The BLE stack uses a MUTEX to prevent internal/external multiple access to the Attribute protocol database, the BLE stack calls this function to release the MUTEX. This function SHALL be implemented. Note that the User application does not call this function directly, but call the application interface ATT_Server_ReleaseDatabaseAccess().</p>
<p>It could be implemented using a mutex or perhaps a semaphore</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_ble_system_8c.html#a7075172a4ee0dadb45b65aa54276be60">SYSTEM_DatabaseMutexPend()</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alexandre GIMARD </dd></dl>

</div>
</div>
<a class="anchor" id="adc3b05fa002d7d6691d93454c4a09a25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SYSTEM_StackMutexPend </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lock the stack mutex.</p>
<p><a class="el" href="_ble_system_8c.html#adc3b05fa002d7d6691d93454c4a09a25">SYSTEM_StackMutexPend()</a> The BLE stack uses a MUTEX to prevent internal interface reentrency and dead lock, the BLE stack calls this function to acquire the MUTEX this function SHALL be implemented. It could be implemented using a mutex or perhaps a semaphore</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_ble_system_8c.html#ace421c7c66b2caec3fced6c8188223c6">SYSTEM_StackMutexPost()</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alexandre GIMARD </dd></dl>

</div>
</div>
<a class="anchor" id="ace421c7c66b2caec3fced6c8188223c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SYSTEM_StackMutexPost </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlock the stack mutex.</p>
<p><a class="el" href="_ble_system_8c.html#ace421c7c66b2caec3fced6c8188223c6">SYSTEM_StackMutexPost()</a> The BLE stack uses a MUTEX to prevent internal interface reentrency and dead lock, the BLE stack calls this function to acquire the MUTEX this function SHALL be implemented. It could be implemented using a mutex or perhaps a semaphore</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_ble_system_8c.html#adc3b05fa002d7d6691d93454c4a09a25">SYSTEM_StackMutexPend()</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alexandre GIMARD </dd></dl>

</div>
</div>
<a class="anchor" id="a65372745d14128ffbb349918c446cc6a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ble_types_8h.html#a811024d35b9b8a41095b1f583b649e56">U32</a> SYSTEM_TimerGetRemain </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The stack request the timer remainting time</p>
<p><a class="el" href="_ble_system_8c.html#a65372745d14128ffbb349918c446cc6a">SYSTEM_TimerGetRemain()</a> The BLE stack need the remaining time of the timer created by <a class="el" href="_ble_system_8c.html#ae5b2f31ab4cf42b40a157ccf94048519">SYSTEM_CreateTimer()</a> in order to do some internal things</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_ble_system_8c.html#ae5b2f31ab4cf42b40a157ccf94048519">SYSTEM_CreateTimer()</a> , <a class="el" href="_ble_system_8c.html#aea03852267e73019391033c4afc10b36">SYSTEM_CancelTimer()</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the time remaining in millisecond.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alexandre GIMARD </dd></dl>

</div>
</div>
</div><!-- contents -->
	<hr size="1" />
	All rights reserved. The use is subject to the XDK SDK EULA by Bosch Connected Devices and Solutions GmbH. 
	<hr size="1" />
	<address style="align: right;">
		<small>This documentation file has been automatically generated on Thu Mar 14 2019 19:12:41 by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.8.8</small>
	</address>
</body>
</html>