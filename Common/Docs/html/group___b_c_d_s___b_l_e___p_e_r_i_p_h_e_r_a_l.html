<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Context-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>XDK API: BLE Peripheral</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
	<div id="header">
		<table class="background-img">
			<tr>
				<td class="left">
					<img src="header_left.jpg" alt="" />
				</td>
				<td class="center">
					<img src="header_center.jpg" alt="" />
				</td>
				<td class="right">
					<img src="header_right.jpg" alt="" />
				</td>
			</tr>
		</table>
	</div>
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="XDK-Main-App-Icon-64.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">XDK API
   &#160;<span id="projectnumber">3.6.0</span>
   </div>
   <div id="projectbrief">Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<html><head></head><body></body></html><!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">BLE Peripheral<div class="ingroups"><a class="el" href="group___n_e_t_w_o_r_k.html">Network</a> &raquo; <a class="el" href="group___b_c_d_s___b_l_e.html">BLE - Bluetooth Low Energy</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This module provides a convenient abstraction to use a device as BLE Peripheral.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for BLE Peripheral:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><img src="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.png" border="0" alt="" usemap="#group______b__c__d__s______b__l__e______p__e__r__i__p__h__e__r__a__l"/>
<map name="group______b__c__d__s______b__l__e______p__e__r__i__p__h__e__r__a__l" id="group______b__c__d__s______b__l__e______p__e__r__i__p__h__e__r__a__l">
<area shape="rect" id="node1" href="group___b_c_d_s___b_l_e.html" title="This component provides the integration of the Alpwise BLE Stack for the EM9301. " alt="" coords="5,5,147,47"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:_b_c_d_s___ble_peripheral_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_b_c_d_s___ble_peripheral_8h.html">BCDS_BlePeripheral.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gae72aee055dc7b4740a845090e9fc6d97"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#ga4d676f8735fe285543171f95db08c445">Ble_PeripheralEvent_E</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gae72aee055dc7b4740a845090e9fc6d97">BlePeripheral_Event_T</a></td></tr>
<tr class="memdesc:gae72aee055dc7b4740a845090e9fc6d97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typedef to represent the Bluetooth peripheral event.  <a href="#gae72aee055dc7b4740a845090e9fc6d97">More...</a><br /></td></tr>
<tr class="separator:gae72aee055dc7b4740a845090e9fc6d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab690b4c85b7b3e6e4d4a7a11eb0e646d"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gab690b4c85b7b3e6e4d4a7a11eb0e646d">BlePeripheral_EventCallback</a> )(<a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gae72aee055dc7b4740a845090e9fc6d97">BlePeripheral_Event_T</a> event, void *data)</td></tr>
<tr class="memdesc:gab690b4c85b7b3e6e4d4a7a11eb0e646d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function signature to be called when the BLE stack changes its state.  <a href="#gab690b4c85b7b3e6e4d4a7a11eb0e646d">More...</a><br /></td></tr>
<tr class="separator:gab690b4c85b7b3e6e4d4a7a11eb0e646d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8151e909a16f5aa075b42ebcaacb463e"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#ga8151e909a16f5aa075b42ebcaacb463e">BlePeripheral_ServiceRegistryCallback</a> )(void)</td></tr>
<tr class="memdesc:ga8151e909a16f5aa075b42ebcaacb463e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function definition to be called in order to register the BLE services the application wants to use.  <a href="#ga8151e909a16f5aa075b42ebcaacb463e">More...</a><br /></td></tr>
<tr class="separator:ga8151e909a16f5aa075b42ebcaacb463e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga4d676f8735fe285543171f95db08c445"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#ga4d676f8735fe285543171f95db08c445">Ble_PeripheralEvent_E</a> </td></tr>
<tr class="memdesc:ga4d676f8735fe285543171f95db08c445"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration to represent the Bluetooth peripheral events.  <a href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#ga4d676f8735fe285543171f95db08c445">More...</a><br /></td></tr>
<tr class="separator:ga4d676f8735fe285543171f95db08c445"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaaf20f4f28bf6eef19d017759ff7470c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gaaf20f4f28bf6eef19d017759ff7470c4">BlePeripheral_Deinitialize</a> (void)</td></tr>
<tr class="memdesc:gaaf20f4f28bf6eef19d017759ff7470c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">De-initializes the BLE stack, corresponding resources and modules.  <a href="#gaaf20f4f28bf6eef19d017759ff7470c4">More...</a><br /></td></tr>
<tr class="separator:gaaf20f4f28bf6eef19d017759ff7470c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37432af8b3ca564cfff593df8478bb52"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#ga37432af8b3ca564cfff593df8478bb52">BlePeripheral_GetBleTaskStackHighwaterMark</a> (void)</td></tr>
<tr class="memdesc:ga37432af8b3ca564cfff593df8478bb52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the BLE peripheral task stack high water mark.  <a href="#ga37432af8b3ca564cfff593df8478bb52">More...</a><br /></td></tr>
<tr class="separator:ga37432af8b3ca564cfff593df8478bb52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa2eea2eabeb60f07785bb527d17add46"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gaa2eea2eabeb60f07785bb527d17add46">BlePeripheral_GetConnectionHandle</a> (void)</td></tr>
<tr class="memdesc:gaa2eea2eabeb60f07785bb527d17add46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the Connection handle.  <a href="#gaa2eea2eabeb60f07785bb527d17add46">More...</a><br /></td></tr>
<tr class="separator:gaa2eea2eabeb60f07785bb527d17add46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06b3f6e3cac8ffd7fb38b63eab7752f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#ga06b3f6e3cac8ffd7fb38b63eab7752f0">BlePeripheral_Initialize</a> (<a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gab690b4c85b7b3e6e4d4a7a11eb0e646d">BlePeripheral_EventCallback</a> callBackOnEvent, <a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#ga8151e909a16f5aa075b42ebcaacb463e">BlePeripheral_ServiceRegistryCallback</a> serviceRegistryCallback)</td></tr>
<tr class="memdesc:ga06b3f6e3cac8ffd7fb38b63eab7752f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the BLE Peripheral module.  <a href="#ga06b3f6e3cac8ffd7fb38b63eab7752f0">More...</a><br /></td></tr>
<tr class="separator:ga06b3f6e3cac8ffd7fb38b63eab7752f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae92aa333085732a958c85e976e657edb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gae92aa333085732a958c85e976e657edb">BlePeripheral_SetDeviceName</a> (uint8_t *name)</td></tr>
<tr class="memdesc:gae92aa333085732a958c85e976e657edb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the device name which will be visible to scanning devices.  <a href="#gae92aa333085732a958c85e976e657edb">More...</a><br /></td></tr>
<tr class="separator:gae92aa333085732a958c85e976e657edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8c57ae210071f514afa7726afab0d3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gae8c57ae210071f514afa7726afab0d3f">BlePeripheral_SetMacAddress</a> (uint64_t macAddress)</td></tr>
<tr class="memdesc:gae8c57ae210071f514afa7726afab0d3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the MAC address of the device.  <a href="#gae8c57ae210071f514afa7726afab0d3f">More...</a><br /></td></tr>
<tr class="separator:gae8c57ae210071f514afa7726afab0d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90ef9541fb40bbba081054ecd9c29b37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#ga90ef9541fb40bbba081054ecd9c29b37">BlePeripheral_Sleep</a> (void)</td></tr>
<tr class="memdesc:ga90ef9541fb40bbba081054ecd9c29b37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the BLE peripheral into SLEEP mode.  <a href="#ga90ef9541fb40bbba081054ecd9c29b37">More...</a><br /></td></tr>
<tr class="separator:ga90ef9541fb40bbba081054ecd9c29b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac778c65cbb6bf746eb70aee00cd4caea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gac778c65cbb6bf746eb70aee00cd4caea">BlePeripheral_Start</a> (void)</td></tr>
<tr class="memdesc:gac778c65cbb6bf746eb70aee00cd4caea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the BLE module as a peripheral.  <a href="#gac778c65cbb6bf746eb70aee00cd4caea">More...</a><br /></td></tr>
<tr class="separator:gac778c65cbb6bf746eb70aee00cd4caea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2fc5db2f8b3b738a8206a3d12e30c1f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#ga2fc5db2f8b3b738a8206a3d12e30c1f6">BlePeripheral_Wakeup</a> (void)</td></tr>
<tr class="memdesc:ga2fc5db2f8b3b738a8206a3d12e30c1f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wakes up the BLE peripheral and makes it discoverable.  <a href="#ga2fc5db2f8b3b738a8206a3d12e30c1f6">More...</a><br /></td></tr>
<tr class="separator:ga2fc5db2f8b3b738a8206a3d12e30c1f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A BLE Peripheral is a device that can be discovered and connected by a central device, e.g. a smartphone. There are several applications for Andoid and iOS available in the respective stores that allow to search for nearby BLE peripherals, connect to them and use their services.</p>
<p>This implementation integrates and uses the Alpwise BLE stack. Related documentation is available in the respective library path. It provides several standard Bluetooth Profile and Service implementations, such as Heart Rate Monitor etc.</p>
<p>The supported radio chip is the EM9301.</p>
<p>A typical application flow of an application based on this module is summarized below:</p><ol type="1">
<li>Initialization with event and service registration callbacks</li>
<li>Set the necessary peripheral properties such as name and MAC address</li>
<li>Start (the device will be in sleep mode initially in order to save power)</li>
<li>Wakeup</li>
<li>Use the services API of the registered services to Send &amp; Receive data if connected</li>
<li>Sleep in order to save power</li>
<li>repeat steps 4.-6.</li>
<li>Deinitialize</li>
</ol>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_b_c_d_s___basics_8h.html">BCDS_Basics.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_b_c_d_s___retcode_8h.html">BCDS_Retcode.h</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> BluetoothPeripheral_BasicExample()</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">uint8_t deviceName[] = <span class="stringliteral">&quot;MyPeripheral&quot;</span>;</div>
<div class="line">uint64_t macAdress = UINT64_C(0x12345678);</div>
<div class="line">uint8_t dataToSend[] = <span class="stringliteral">&quot;BCDS&quot;</span>;</div>
<div class="line">uint8_t dataToSendLen = UINT8_C(4);</div>
<div class="line"></div>
<div class="line"><a class="code" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#ga06b3f6e3cac8ffd7fb38b63eab7752f0">BlePeripheral_Initialize</a>(EventCallBack, ServiceRegistrationCallBack);</div>
<div class="line"><span class="comment">// In the ServiceRegistrationCallBack initialize and</span></div>
<div class="line"><span class="comment">// register all services that should be available to the application.</span></div>
<div class="line"><span class="comment">// Currently this package supports two services :</span></div>
<div class="line"><span class="comment">// - BCDS Bidirectional Service</span></div>
<div class="line"><span class="comment">// Additionally the service implementations of Alpwise can be used as well as custom services (see e.g. the BCDS Bidirectional Service as example).</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gae92aa333085732a958c85e976e657edb">BlePeripheral_SetDeviceName</a>(deviceName);</div>
<div class="line"><a class="code" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gae8c57ae210071f514afa7726afab0d3f">BlePeripheral_SetMacAddress</a>(macAdress);</div>
<div class="line"></div>
<div class="line"><a class="code" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gac778c65cbb6bf746eb70aee00cd4caea">BlePeripheral_Start</a>();</div>
<div class="line"><span class="comment">// Wait until BLE_PERIPHERAL_STARTED event is received in the EventCallBack.</span></div>
<div class="line"><span class="comment">// The device is now in sleep mode.</span></div>
<div class="line"><span class="comment">// In the background the ServiceRegistrationCallBack will be called and on success triggers</span></div>
<div class="line"><span class="comment">// the BLE_PERIPHERAL_SERVICES_REGISTERED event to be received in the EventCallBack.</span></div>
<div class="line"><span class="comment">// In this example, both &quot;data send complete&quot; and &quot;data receive&quot; callback will be</span></div>
<div class="line"><span class="comment">// registered at the time of service initialization.</span></div>
<div class="line"><span class="comment">// See after the BluetoothPeripheral_BasicExample function for</span></div>
<div class="line"><span class="comment">// reference implementation for ServiceRegistrationCallBack.</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#ga2fc5db2f8b3b738a8206a3d12e30c1f6">BlePeripheral_Wakeup</a>();</div>
<div class="line"><span class="comment">// Wait until the BLE_PERIPHERAL_WAKEUP_SUCCEEDED event is received in EventCallBack.</span></div>
<div class="line"><span class="comment">// The device has entered advertising state now and can be discovered and connected by a central device, e.g. a Smartphone with BLE support.</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Once the central device connects, the BLE_PERIPHERAL_CONNECTED event will be received with #Ble_RemoteDeviceAddress_T</span></div>
<div class="line"><span class="comment">// parameter in EventCallBack. Now you are ready to communicate with the connected remote device.</span></div>
<div class="line"></div>
<div class="line">BlePeripheralService_SendData(dataToSend, dataToSendLen)</div>
<div class="line"><span class="comment">// Wait for RETCODE_OK as parameter in callback registered at the</span></div>
<div class="line"><span class="comment">// time of service initialization to confirm successful data</span></div>
<div class="line"><span class="comment">// send operation.</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// If the BLE_PERIPHERAL_DISCONNECTED event is received in EventCallBack,</span></div>
<div class="line"><span class="comment">// further communications will not be supported until a new</span></div>
<div class="line"><span class="comment">// connection is available. The device will stay in advertising mode</span></div>
<div class="line"><span class="comment">// until BlePeripheral_Sleep is triggered.</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#ga90ef9541fb40bbba081054ecd9c29b37">BlePeripheral_Sleep</a>();</div>
<div class="line"><span class="comment">// Wait for the BLE_PERIPHERAL_SLEEP_SUCCEEDED event in EventCallBack.</span></div>
<div class="line"><span class="comment">// The device now has entered deep sleep mode.</span></div>
<div class="line"><span class="comment">// In case this is called during an active connection, then</span></div>
<div class="line"><span class="comment">// BLE_PERIPHERAL_DISCONNECTED event with Ble_RemoteDeviceAddress_T</span></div>
<div class="line"><span class="comment">// parameter will be received before BLE_PERIPHERAL_SLEEP_SUCCEEDED in the EventCallBack.</span></div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a> ServiceRegistrationCallBack()</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">#if BIDIRECTIONAL_SERVICE</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="group___b_c_d_s___b_l_e___b_i_d_i_r_e_c_t_i_o_n_a_l___s_e_r_v_i_c_e.html#gac78d59b7026264423eb6d18a8594602f">BidirectionalService_Init</a>(readCallback, sendCallBack);</div>
<div class="line"><span class="comment">// readCallback will be triggered upon reception of input packets.</span></div>
<div class="line"><span class="comment">// sendCallBack will be triggered upon every single.</span></div>
<div class="line"><span class="comment">// BidirectionalService_SendData trigger to notify the status.</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="group___b_c_d_s___b_l_e___b_i_d_i_r_e_c_t_i_o_n_a_l___s_e_r_v_i_c_e.html#ga6404c558081be21e0f9a95d2ceb26ee1">BidirectionalService_Register</a>();</div>
<div class="line"><span class="comment">// This will Register the Bi-directional Service.</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Use BidirectionalService_SendData further to send data.</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#endif // BIDIRECTIONAL_SERVICE</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if CUSTOM_SERVICE</span></div>
<div class="line"></div>
<div class="line">CustomServices_Init(readCallback, sendCallBack);</div>
<div class="line"><span class="comment">// readCallback will be triggered upon reception of input packets.</span></div>
<div class="line"><span class="comment">// sendCallBack will be triggered upon every single</span></div>
<div class="line"><span class="comment">// CustomServices_SendData trigger to notify the status.</span></div>
<div class="line"></div>
<div class="line">CustomServices_Register();</div>
<div class="line"><span class="comment">// This will Register the Interface user&#39;s Service.</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Use CustomServices_SendData further to send data.</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#endif // CUSTOM_SERVICE</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">return</span> <a class="code" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga29ad456a36368a4ba96e18b18cb0f7bc">RETCODE_OK</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if CUSTOM_SERVICE</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Implement CustomServices_Init, CustomServices_Register and</span></div>
<div class="line"><span class="comment">// CustomServices_SendData as per application need.</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#endif // CUSTOM_SERVICE</span></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd><ol type="1">
<li>Minimum initial connection interval time is defined as 30mSec.(<a class="el" href="_ble_gap_8h.html">BleGap.h</a>)</li>
<li>The Latency for mode transition INITIALIZATION -&gt; START is ~ 16mSec, for SLEEP -&gt; WAKEUP ~ 2.7mSec.</li>
<li>BlePeripheral_Start must be called only once after initialization. The calling thread must have lesser priority than the BLE peripheral thread. The priority of BLE peripheral thread is defined using the macro BLE_TASK_PRIORITY in package configuration header file (<a class="el" href="_b_c_d_s___bluetooth_config_8h.html">BCDS_BluetoothConfig.h</a>).</li>
<li>If de-initialized, then after initialization BLE start shall be called once again.</li>
<li>After BlePeripheral_Start, the Alpwise stack will be initialized and the radio will be in sleep mode. The BLE_PERIPHERAL_STARTED event will be provided upon successful initialization through BlePeripheral_EventCallback.</li>
<li>After successful BlePeripheral_Start, only BlePeripheral_Wakeup and BlePeripheral_Sleep may be called.</li>
<li>After BlePeripheral_Wakeup, it takes ~50mSec for device to be discoverable.</li>
<li>BLE device is no longer discoverable after entering to SLEEP and vice-versa for WAKEUP.</li>
<li>Upon SLEEP trigger, if the BLE device was previously connected, it would disconnect (providing event) and then enter the SLEEP mode.</li>
<li>Upon SLEEP and WAKEUP trigger we must wait atleast 1 ms before triggering the next power control successfully. It is expected to be synchronized with the corresponding events.</li>
<li>All the SLEEP and WAKEUP trigger operation status will be updated through BLE_PERIPHERAL_SLEEP_SUCCEEDED and BLE_PERIPHERAL_WAKEUP_SUCCEEDED event notification via BLE event callback that would have been registered at the time of initialization.</li>
<li>For all the SLEEP and WAKEUP triggers, application must wait / sync with the events before triggering further operations. </li>
</ol>
</dd></dl>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gae72aee055dc7b4740a845090e9fc6d97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#ga4d676f8735fe285543171f95db08c445">Ble_PeripheralEvent_E</a> <a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gae72aee055dc7b4740a845090e9fc6d97">BlePeripheral_Event_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gab690b4c85b7b3e6e4d4a7a11eb0e646d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* BlePeripheral_EventCallback)(<a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gae72aee055dc7b4740a845090e9fc6d97">BlePeripheral_Event_T</a> event, void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback function signature to be called when the BLE stack changes its state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>The event that has occurred.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>void pointer pointing to a data type with further information based on the event.</td></tr>
  </table>
  </dd>
</dl>
<table class="doxtable">
<tr>
<th>event </th><th>data type  </th></tr>
<tr>
<td>BLE_PERIPHERAL_STARTED </td><td>Retcode_T </td></tr>
<tr>
<td>BLE_PERIPHERAL_SERVICES_REGISTERED </td><td>unused </td></tr>
<tr>
<td>BLE_PERIPHERAL_SLEEP_SUCCEEDED </td><td>Retcode_T </td></tr>
<tr>
<td>BLE_PERIPHERAL_WAKEUP_SUCCEEDED </td><td>Retcode_T </td></tr>
<tr>
<td>BLE_PERIPHERAL_CONNECTED </td><td>Ble_RemoteDeviceAddress_T </td></tr>
<tr>
<td>BLE_PERIPHERAL_DISCONNECTED </td><td>Ble_RemoteDeviceAddress_T </td></tr>
<tr>
<td>BLE_PERIPHERAL_ERROR </td><td>Retcode_T </td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga8151e909a16f5aa075b42ebcaacb463e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a>(* BlePeripheral_ServiceRegistryCallback)(void)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback function definition to be called in order to register the BLE services the application wants to use. This function will be called after the application has called <a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gac778c65cbb6bf746eb70aee00cd4caea" title="Starts the BLE module as a peripheral. ">BlePeripheral_Start</a>. It has to be implemented by the application implementer. Within this function, all services that the application requires have to be registered with the Alpwise stack using the <a class="el" href="attserver_8h.html">attserver.h</a> interface.</p>
<dl class="section return"><dt>Returns</dt><dd>RETCODE_OK on success, or an error code otherwise. Refer <a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#gaf6fb6f6ae1be4277d38a8684e1be9acb" title="Enumeration to represent the General return codes. The first codes from 0 to RETCODE_FIRST_CUSTOM_COD...">Retcode_General_E</a> and <a class="el" href="group___b_c_d_s___b_l_e.html#ga0f2731d56101ae023851508c9293df01" title="Enumeration to represent the return codes of BLE module. ">Ble_Retcode_E</a> for other values. </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga4d676f8735fe285543171f95db08c445"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#ga4d676f8735fe285543171f95db08c445">Ble_PeripheralEvent_E</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enumeration to represent the Bluetooth peripheral events. They will be provided through <a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gab690b4c85b7b3e6e4d4a7a11eb0e646d" title="Callback function signature to be called when the BLE stack changes its state. ">BlePeripheral_EventCallback</a> </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga4d676f8735fe285543171f95db08c445ac4e4479392a1444b912200b7e1c12240"></a>BLE_PERIPHERAL_STARTED&#160;</td><td class="fielddoc">
<p>Event indicating that the peripheral has been started and entered sleep mode </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4d676f8735fe285543171f95db08c445aa759513e4385848da1cc3e9d742b96de"></a>BLE_PERIPHERAL_SERVICES_REGISTERED&#160;</td><td class="fielddoc">
<p>This event indicates that the required services have been registered successfully </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4d676f8735fe285543171f95db08c445a50d5ab2121e7254bad9f087f897e5e62"></a>BLE_PERIPHERAL_SLEEP_SUCCEEDED&#160;</td><td class="fielddoc">
<p>Event indicating that the peripheral has entered sleep mode </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4d676f8735fe285543171f95db08c445a4f02577c686c40c18d00abfc3e97c6d7"></a>BLE_PERIPHERAL_WAKEUP_SUCCEEDED&#160;</td><td class="fielddoc">
<p>Event indicating that the peripheral has entered woken up from sleep and is ready for user interaction </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4d676f8735fe285543171f95db08c445afd9d4e56036c5b1ff3312e46293625cf"></a>BLE_PERIPHERAL_CONNECTED&#160;</td><td class="fielddoc">
<p>Event indicating that a connection to an external device has been established </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4d676f8735fe285543171f95db08c445a8e7ad433df5911c845a37fed0e58658c"></a>BLE_PERIPHERAL_DISCONNECTED&#160;</td><td class="fielddoc">
<p>Event indicating that a connection to an external device has been terminated </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4d676f8735fe285543171f95db08c445ac67d5c18f69e126aaa153b3d54d80928"></a>BLE_PERIPHERAL_ERROR&#160;</td><td class="fielddoc">
<p>Event indicating that an error has occured </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4d676f8735fe285543171f95db08c445aa738c5c324f6235545093aef6506728f"></a>BLE_PERIPHERAL_EVENT_MAX&#160;</td><td class="fielddoc">
<p>Defines boundary of BLE events </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaaf20f4f28bf6eef19d017759ff7470c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a> BlePeripheral_Deinitialize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>De-initializes the BLE stack, corresponding resources and modules.</p>
<dl class="section return"><dt>Returns</dt><dd>RETCODE_OK on success, or an error code otherwise. Refer <a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#gaf6fb6f6ae1be4277d38a8684e1be9acb" title="Enumeration to represent the General return codes. The first codes from 0 to RETCODE_FIRST_CUSTOM_COD...">Retcode_General_E</a> and <a class="el" href="group___b_c_d_s___b_l_e.html#ga0f2731d56101ae023851508c9293df01" title="Enumeration to represent the return codes of BLE module. ">Ble_Retcode_E</a> for other values.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The implementation is pending. Do not expect the module to re-initialize again (calling BlePeripheral_Initialize after calling Ble_Deinitialize). Do not make use of this API. </dd></dl>

</div>
</div>
<a class="anchor" id="ga37432af8b3ca564cfff593df8478bb52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t BlePeripheral_GetBleTaskStackHighwaterMark </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the BLE peripheral task stack high water mark</p>
<dl class="section return"><dt>Returns</dt><dd>The BLE task stack high water mark value.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="task_8h.html#a799967af01d328132cde814e47733437">uxTaskGetStackHighWaterMark</a> from FreeRTOS </dd></dl>

</div>
</div>
<a class="anchor" id="gaa2eea2eabeb60f07785bb527d17add46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t BlePeripheral_GetConnectionHandle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the Connection handle for the current connection or 0 if the device is currently not connected.</p>
<dl class="section return"><dt>Returns</dt><dd>The Connection Handle value. 0 if the device is not connected. </dd></dl>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l_gaa2eea2eabeb60f07785bb527d17add46_icgraph.png" border="0" usemap="#group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l_gaa2eea2eabeb60f07785bb527d17add46_icgraph" alt=""/></div>
<map name="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l_gaa2eea2eabeb60f07785bb527d17add46_icgraph" id="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l_gaa2eea2eabeb60f07785bb527d17add46_icgraph">
<area shape="rect" id="node2" href="_grid_eye_service_8c.html#a9ea933926fbca9369d8f65ddc2098515" title="GridEyeService_SendData" alt="" coords="246,5,421,32"/><area shape="rect" id="node3" href="group___b_c_d_s___b_l_e___s_e_n_s_o_r___s_e_r_v_i_c_e_s.html#gab2cac8a8afcdab504e7ec7e1f45c02cb" title="This function sends data to the client. " alt="" coords="245,56,421,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga06b3f6e3cac8ffd7fb38b63eab7752f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a> BlePeripheral_Initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#gab690b4c85b7b3e6e4d4a7a11eb0e646d">BlePeripheral_EventCallback</a>&#160;</td>
          <td class="paramname"><em>callBackOnEvent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___b_c_d_s___b_l_e___p_e_r_i_p_h_e_r_a_l.html#ga8151e909a16f5aa075b42ebcaacb463e">BlePeripheral_ServiceRegistryCallback</a>&#160;</td>
          <td class="paramname"><em>serviceRegistryCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the BLE Peripheral module, i.e. required resources (task, semaphores, queues, etc.) will be created and initialized.</p>
<dl class="section note"><dt>Note</dt><dd><ol type="1">
<li>This API shall be called only once.</li>
<li>It will return failure when called the second time.</li>
</ol>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callBackOnEvent</td><td>Registration of callback function for notification of BLE events.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">serviceRegistryCallback</td><td>Registration of callback function used to register the services the application wants to use.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RETCODE_OK on success, or an error code otherwise. Refer <a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#gaf6fb6f6ae1be4277d38a8684e1be9acb" title="Enumeration to represent the General return codes. The first codes from 0 to RETCODE_FIRST_CUSTOM_COD...">Retcode_General_E</a> and <a class="el" href="group___b_c_d_s___b_l_e.html#ga0f2731d56101ae023851508c9293df01" title="Enumeration to represent the return codes of BLE module. ">Ble_Retcode_E</a> for other values. </dd></dl>

</div>
</div>
<a class="anchor" id="gae92aa333085732a958c85e976e657edb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a> BlePeripheral_SetDeviceName </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the device name which will be visible to scanning devices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Pointer to the variable containing the device name. The value must be null terminated and should not exceed 21 bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RETCODE_OK on success, or an error code otherwise. Refer <a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#gaf6fb6f6ae1be4277d38a8684e1be9acb" title="Enumeration to represent the General return codes. The first codes from 0 to RETCODE_FIRST_CUSTOM_COD...">Retcode_General_E</a> and <a class="el" href="group___b_c_d_s___b_l_e.html#ga0f2731d56101ae023851508c9293df01" title="Enumeration to represent the return codes of BLE module. ">Ble_Retcode_E</a> for other values.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function must be called before BlePeripheral_Start in order to be effective. </dd></dl>

</div>
</div>
<a class="anchor" id="gae8c57ae210071f514afa7726afab0d3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a> BlePeripheral_SetMacAddress </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>macAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the MAC address of the device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">macAddress</td><td>the MAC address that should be used for this device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RETCODE_OK on success, or an error code otherwise. Refer <a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#gaf6fb6f6ae1be4277d38a8684e1be9acb" title="Enumeration to represent the General return codes. The first codes from 0 to RETCODE_FIRST_CUSTOM_COD...">Retcode_General_E</a> and <a class="el" href="group___b_c_d_s___b_l_e.html#ga0f2731d56101ae023851508c9293df01" title="Enumeration to represent the return codes of BLE module. ">Ble_Retcode_E</a> for other values.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function must be called before BlePeripheral_Start in order to be effective and macAddress parameters are purpose to BOSCH OUI ID of FC-D6-BD , So that macAddress should starts with "FC-D6-BD" OUI if not, macAddress will be Randomly Generated for ex: XX-XX-XX-XX-XX-XX. </dd></dl>

</div>
</div>
<a class="anchor" id="ga90ef9541fb40bbba081054ecd9c29b37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a> BlePeripheral_Sleep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the BLE peripheral into SLEEP mode</p>
<dl class="section return"><dt>Returns</dt><dd>RETCODE_OK on success, or an error code otherwise. Refer <a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#gaf6fb6f6ae1be4277d38a8684e1be9acb" title="Enumeration to represent the General return codes. The first codes from 0 to RETCODE_FIRST_CUSTOM_COD...">Retcode_General_E</a> and <a class="el" href="group___b_c_d_s___b_l_e.html#ga0f2731d56101ae023851508c9293df01" title="Enumeration to represent the return codes of BLE module. ">Ble_Retcode_E</a> for other values.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>BLE_PERIPHERAL_SLEEP_SUCCEEDED will be received in the BlePeripheral_EventCallback. Until it is received, neither BlePeripheral_Sleep nor BlePeripheral_Wakeup shall be triggered. </dd></dl>

</div>
</div>
<a class="anchor" id="gac778c65cbb6bf746eb70aee00cd4caea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a> BlePeripheral_Start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts the BLE module as a peripheral.</p>
<dl class="section return"><dt>Returns</dt><dd>RETCODE_OK on success, or an error code otherwise. Refer <a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#gaf6fb6f6ae1be4277d38a8684e1be9acb" title="Enumeration to represent the General return codes. The first codes from 0 to RETCODE_FIRST_CUSTOM_COD...">Retcode_General_E</a> and <a class="el" href="group___b_c_d_s___b_l_e.html#ga0f2731d56101ae023851508c9293df01" title="Enumeration to represent the return codes of BLE module. ">Ble_Retcode_E</a> for other values.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function initializes the underlying layers and the radio chip to a working state and then switches the radio to sleep mode. Wait and sync for BLE_PERIPHERAL_STARTED event callBack (BlePeripheral_EventCallback) registered at the time of BlePeripheral_Initialize API trigger. The device is in the same state as in BLE_PERIPHERAL_SLEEP_SUCCEEDED event upon receiving BLE_PERIPHERAL_STARTED event. </dd></dl>

</div>
</div>
<a class="anchor" id="ga2fc5db2f8b3b738a8206a3d12e30c1f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#ga0e1ebc675650b0ceffc059d6b67699c7">Retcode_T</a> BlePeripheral_Wakeup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wakes up the BLE peripheral and makes it discoverable.</p>
<dl class="section return"><dt>Returns</dt><dd>RETCODE_OK on success, or an error code otherwise. Refer <a class="el" href="group___b_c_d_s___r_e_t_c_o_d_e.html#gaf6fb6f6ae1be4277d38a8684e1be9acb" title="Enumeration to represent the General return codes. The first codes from 0 to RETCODE_FIRST_CUSTOM_COD...">Retcode_General_E</a> and <a class="el" href="group___b_c_d_s___b_l_e.html#ga0f2731d56101ae023851508c9293df01" title="Enumeration to represent the return codes of BLE module. ">Ble_Retcode_E</a> for other values.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>BLE_PERIPHERAL_WAKEUP_SUCCEEDED will be received in the BlePeripheral_EventCallback. Until it is received, neither BlePeripheral_Sleep nor BlePeripheral_Wakeup shall be triggered. Once the BLE_PERIPHERAL_WAKEUP_SUCCEEDED event is received, the BLE peripheral will advertise. </dd></dl>

</div>
</div>
</div><!-- contents -->
	<hr size="1" />
	All rights reserved. The use is subject to the XDK SDK EULA by Bosch Connected Devices and Solutions GmbH. 
	<hr size="1" />
	<address style="align: right;">
		<small>This documentation file has been automatically generated on Thu Mar 14 2019 19:12:51 by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.8.8</small>
	</address>
</body>
</html>